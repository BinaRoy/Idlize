{
    "name": "demo-xml",
    "private": true,
    "devDependencies": {
        "@rollup/plugin-inject": "^5.0.5",
        "@rollup/plugin-node-resolve": "^15.3.0",
        "@rollup/plugin-typescript": "^12.1.1",
        "rollup": "^4.24.4"
    },
    "scripts": {
        "clean:ts": "rm -rf generated/ts",
        "clean:arkts": "rm -rf generated/arkts",
        "clean:cj": "rm -rf generated/cangjie",
        "clean:kt": "rm -rf generated/kotlin",
        "clean:native": "rm -rf generated/native",

        "generate": "npm run run:xml:${TARGET} -C ../.. -- --output-dir demos/xml",
        "generate:ts": "TARGET=ts npm run generate",
        "generate:arkts": "TARGET=arkts npm run generate",
        "generate:cj": "TARGET=cj npm run generate && cp ./src/cangjie/* ./generated/cangjie",
        "generate:kt": "TARGET=kt npm run generate && cp ./src/kotlin/* ./generated/kotlin",

        "build": "npm run compile:interop:native:${TARGET} && npm run compile:native:${TARGET} && npm run compile:${TARGET}",
        "build:ts": "TARGET=ts npm run build",
        "build:arkts": "TARGET=arkts npm run build",
        "build:cj": "TARGET=cj npm run build",
        "build:kt": "TARGET=kt npm run build",

        "compile:interop:native": "npm run compile:native-${TARGET}-host --prefix ../../../external/interop",
        "compile:interop:native:ts": "TARGET=node npm run compile:interop:native",
        "compile:interop:native:arkts": "TARGET=panda npm run compile:interop:native",
        "compile:interop:native:kt": "TARGET=kotlin npm run compile:interop:native && npm run compile:kotlin:interop --prefix ../../../external/interop && npm run compile:native-kotlin-with-node-host -C ../../../external/arkoala-arkts/framework",
        
        "compile:ts": "rollup -c",
        "compile:arkts": "bash scripts/build-panda.sh",
        "compile:cj": "",
        "compile:kt": "bash scripts/build-kotlin.sh",

        "compile:native": "meson setup build/native/${TARGET} -Dtarget=${TARGET} && meson compile -C build/native/${TARGET} && meson install -C build/native/${TARGET}",
        "compile:native:ts": "TARGET=node npm run compile:native",
        "compile:native:arkts": "TARGET=panda npm run compile:native",
        "compile:native:cj": "TARGET=cangjie npm run compile:native",
        "compile:native:kt": "TARGET=kotlin npm run compile:native",

        "start:ts": "bash scripts/run-ts.sh",
        "start:arkts": "bash scripts/run-panda.sh",
        "start:cj": "bash scripts/run-cj.sh",
        "start:kt": "bash scripts/run-kt.sh",

        "check": "npm run clean:native && npm run clean:${TARGET} && npm run generate:${TARGET} && npm run build:${TARGET} && npm run start:${TARGET}",
        "check:ts": "TARGET=ts npm run check",
        "check:arkts": "TARGET=arkts npm run check",
        "check:cj": "TARGET=cj npm run check",
        "check:kt": "TARGET=kt npm run check"
    },
    "dependencies": {
        "@koalaui/interop": "1.7.7",
        "@koalaui/common": "latest"
    }
}
