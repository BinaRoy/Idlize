## 6. æ³¨è§£ä¸æ–‡æ¡£è¿ç§»å®æ–½ v1.1

### ğŸ“‹ ä¿®æ”¹è¯´æ˜

**ğŸ” é—®é¢˜åˆ†æï¼š**
å½“å‰ `dts2peer` å·¥å…·åœ¨æ³¨è§£å’Œæ–‡æ¡£å¤„ç†æ–¹é¢çš„ä¸è¶³ï¼š
- TypeScript ä¸­çš„ JSDoc æ³¨é‡Šå’Œè£…é¥°å™¨ä¿¡æ¯ä¸¢å¤±
- ç¼ºä¹ Cangjie æ ‡å‡†æ³¨è§£ï¼ˆ`@!APILevel`ã€`@relation` ç­‰ï¼‰çš„è‡ªåŠ¨ç”Ÿæˆ
- API ç‰ˆæœ¬ä¿¡æ¯æ²¡æœ‰æ­£ç¡®è¿ç§»åˆ° Cangjie æ³¨è§£ç³»ç»Ÿ
- ç”Ÿæˆçš„ä»£ç ç¼ºä¹å¿…è¦çš„æ–‡æ¡£å’Œå…ƒæ•°æ®æ”¯æŒ

**ä»“é¢‰è¯­è¨€ç‰¹æœ‰é—®é¢˜ï¼š**
- æ²¡æœ‰å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€çš„æ³¨è§£ç³»ç»Ÿï¼ˆ`@!APILevel`ã€`@Derive[Equatable]`ã€`@relation`ï¼‰
- JSDoc æ³¨é‡Šæ²¡æœ‰è½¬æ¢ä¸ºä»“é¢‰è¯­è¨€å…¼å®¹çš„æ–‡æ¡£æ ¼å¼
- ç¼ºä¹å¯¹ä»“é¢‰è¯­è¨€ç‰¹æœ‰ç±»å‹ï¼ˆå¦‚ `ResourceStr`ã€`Length`ã€`ResourceColor`ï¼‰çš„æ³¨è§£æ”¯æŒ
- ç¤ºä¾‹ä»£ç æ²¡æœ‰è½¬æ¢ä¸ºä»“é¢‰è¯­è¨€è¯­æ³•

**ğŸ¯ ä¼˜åŒ–ç­–ç•¥ï¼š**
1. **æ³¨è§£æ˜ å°„ç³»ç»Ÿ**ï¼šå»ºç«‹ TypeScript è£…é¥°å™¨/JSDoc åˆ° Cangjie æ³¨è§£çš„æ˜ å°„è§„åˆ™
2. **API çº§åˆ«æ¨æ–­**ï¼šæ ¹æ® TypeScript ç‰ˆæœ¬ä¿¡æ¯è‡ªåŠ¨æ¨æ–­å¹¶ç”Ÿæˆ `@!APILevel` æ³¨è§£
3. **æ–‡æ¡£æ ¼å¼è½¬æ¢**ï¼šå°† JSDoc æ³¨é‡Šè½¬æ¢ä¸º Cangjie å…¼å®¹çš„æ–‡æ¡£æ ¼å¼
4. **ä¾èµ–å…³ç³»åˆ†æ**ï¼šè‡ªåŠ¨åˆ†æå¹¶ç”Ÿæˆ `@relation` æ³¨è§£

**ğŸ¯ æœ€ç»ˆç›®æ ‡ï¼š**
- ä¿ç•™ TypeScript ä»£ç ä¸­çš„é‡è¦å…ƒæ•°æ®ä¿¡æ¯
- ç¡®ä¿ç”Ÿæˆçš„ Cangjie ä»£ç ç¬¦åˆå®˜æ–¹æ³¨è§£è§„èŒƒ
- æä¾›å®Œæ•´çš„ API æ–‡æ¡£å’Œç‰ˆæœ¬ä¿¡æ¯
- æ”¯æŒ IDE å’Œå·¥å…·é“¾çš„æ™ºèƒ½æç¤ºåŠŸèƒ½
- å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€çš„æ³¨è§£ç³»ç»Ÿå’Œæ–‡æ¡£æ ¼å¼

### ğŸ“‹ è½¬æ¢ç”¨ä¾‹ç¤ºä¾‹

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´çš„è½¬æ¢ç”¨ä¾‹</summary>

#### ç”¨ä¾‹ 1: JSDoc åˆ° Cangjie æ³¨è§£è½¬æ¢ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿå’Œæ–‡æ¡£æ ¼å¼ï¼‰

**ğŸ” é—®é¢˜åˆ†æï¼š**
TypeScript çš„ JSDoc æ³¨é‡Šå’Œè£…é¥°å™¨ä¿¡æ¯åœ¨è½¬æ¢è¿‡ç¨‹ä¸­ä¸¢å¤±ï¼Œå¯¼è‡´ç”Ÿæˆçš„ä»“é¢‰è¯­è¨€ä»£ç ç¼ºä¹å¿…è¦çš„æ–‡æ¡£å’Œå…ƒæ•°æ®æ”¯æŒï¼Œä¸ç¬¦åˆä»“é¢‰è¯­è¨€çš„æ³¨è§£è§„èŒƒã€‚

**TypeScript è¾“å…¥:**
```typescript
/**
 * æŒ‰é’®ç»„ä»¶æ¥å£å®šä¹‰
 * @since API 12
 * @version 1.0.0
 * @deprecated ä½¿ç”¨ ButtonProps æ›¿ä»£
 */
interface ButtonInterface {
  /**
   * æŒ‰é’®æ–‡æœ¬å†…å®¹
   * @default "Button"
   * @example
   * ```typescript
   * <Button text="Click me" />
   * ```
   */
  text?: string;
  
  /**
   * æŒ‰é’®ç±»å‹
   * @default "normal"
   * @since API 11
   */
  type?: 'normal' | 'capsule' | 'circle';
  
  /**
   * æŒ‰é’®ç‚¹å‡»äº‹ä»¶å›è°ƒ
   * @param event ç‚¹å‡»äº‹ä»¶å¯¹è±¡
   * @example
   * ```typescript
   * <Button onClick={(event) => console.log('clicked')} />
   * ```
   */
  onClick?: (event: ClickEvent) => void;
  
  /**
   * æŒ‰é’®æ˜¯å¦å¯è§
   * @default true
   * @deprecated ä½¿ç”¨ visible å±æ€§æ›¿ä»£
   */
  show?: boolean;
}

/**
 * æ–‡æœ¬ç»„ä»¶æ¥å£å®šä¹‰
 * @since API 9
 * @relation TextInput, RichText
 */
interface TextInterface {
  /**
   * æ–‡æœ¬å†…å®¹
   * @required
   */
  content: string;
  
  /**
   * å­—ä½“å¤§å°
   * @default 16
   * @unit px
   */
  fontSize?: number;
}
```

**âŒ å½“å‰ç”Ÿæˆçš„ Cangjie ä»£ç ï¼ˆé—®é¢˜ç‰ˆæœ¬ï¼‰ï¼š**
```cangjie
// æ³¨è§£å’Œæ–‡æ¡£ä¿¡æ¯ä¸¢å¤±
public interface ButtonInterface {
  text?: String;
  type?: Union_Normal_Capsule_Circle;
  onClick?: Callback_ClickEvent_Void;
  show?: Bool;
}

public interface TextInterface {
  content: String;
  fontSize?: Int64;
}
```

**âœ… æ”¹è¿›åçš„ Cangjie ä»£ç ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿ/æ–‡æ¡£æ ¼å¼ï¼‰ï¼š**
```cangjie
/**
 * æŒ‰é’®ç»„ä»¶æ¥å£å®šä¹‰
 * @since API 12
 * @version 1.0.0
 * @deprecated ä½¿ç”¨ ButtonProps æ›¿ä»£
 */
@!APILevel[12]
@relation[ButtonProps]
public interface ButtonInterface {
  /**
   * æŒ‰é’®æ–‡æœ¬å†…å®¹
   * @default "Button"
   * @example
   * ```cangjie
   * Button().setText("Click me")
   * ```
   */
  text!: ResourceStr = "Button";
  
  /**
   * æŒ‰é’®ç±»å‹
   * @default "normal"
   * @since API 11
   */
  @!APILevel[11]
  type!: ButtonType = ButtonType.Normal;
  
  /**
   * æŒ‰é’®ç‚¹å‡»äº‹ä»¶å›è°ƒ
   * @param event ç‚¹å‡»äº‹ä»¶å¯¹è±¡
   * @example
   * ```cangjie
   * Button().setOnClick { event => println("clicked") }
   * ```
   */
  onClick!: Option<(ClickEvent) -> Unit> = None;
  
  /**
   * æŒ‰é’®æ˜¯å¦å¯è§
   * @default true
   * @deprecated ä½¿ç”¨ visible å±æ€§æ›¿ä»£
   */
  @deprecated
  show!: Bool = true;
}

/**
 * æ–‡æœ¬ç»„ä»¶æ¥å£å®šä¹‰
 * @since API 9
 * @relation TextInput, RichText
 */
@!APILevel[9]
@relation[TextInput, RichText]
public interface TextInterface {
  /**
   * æ–‡æœ¬å†…å®¹
   * @required
   */
  content: ResourceStr;
  
  /**
   * å­—ä½“å¤§å°
   * @default 16
   * @unit px
   */
  fontSize!: Length = 16.fp;
}
```

**ğŸ¯ ä¼˜åŒ–æ•ˆæœï¼š**
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„ `@!APILevel` æ³¨è§£ï¼Œæä¾›ç‰ˆæœ¬ä¿¡æ¯
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„ `@relation` æ³¨è§£ï¼Œå»ºç«‹ç»„ä»¶å…³ç³»
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„è¯­ä¹‰åŒ–ç±»å‹ï¼ˆ`ResourceStr`ã€`Length`ï¼‰
- âœ… è½¬æ¢ç¤ºä¾‹ä»£ç ä¸ºä»“é¢‰è¯­è¨€è¯­æ³•
- âœ… ä¿ç•™å®Œæ•´çš„ JSDoc æ–‡æ¡£ä¿¡æ¯

#### ç”¨ä¾‹ 2: API Level æ³¨è§£è‡ªåŠ¨ç”Ÿæˆï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰

**ğŸ” é—®é¢˜åˆ†æï¼š**
TypeScript çš„ API ç‰ˆæœ¬ä¿¡æ¯æ²¡æœ‰æ­£ç¡®è¿ç§»åˆ°ä»“é¢‰è¯­è¨€çš„ `@!APILevel` æ³¨è§£ç³»ç»Ÿï¼Œå¯¼è‡´ç”Ÿæˆçš„ä»£ç ç¼ºä¹ç‰ˆæœ¬å…¼å®¹æ€§ä¿¡æ¯ã€‚

**TypeScript è¾“å…¥:**
```typescript
/**
 * åŸºç¡€ç»„ä»¶æ¥å£
 * @since API 9
 */
interface BaseComponent {
  id?: string;
  visible?: boolean;
}

/**
 * é«˜çº§ç»„ä»¶æ¥å£
 * @since API 12
 * @requires BaseComponent
 */
interface AdvancedComponent extends BaseComponent {
  /**
   * åŠ¨ç”»æ•ˆæœ
   * @since API 11
   */
  animation?: boolean;
  
  /**
   * 3D å˜æ¢
   * @since API 13
   */
  transform3D?: boolean;
}

/**
 * å®éªŒæ€§åŠŸèƒ½æ¥å£
 * @since API 14
 * @experimental
 */
interface ExperimentalComponent {
  /**
   * å®éªŒæ€§å±æ€§
   * @since API 14
   * @experimental
   */
  experimentalFeature?: boolean;
}
```

**âœ… æ”¹è¿›åçš„ Cangjie ä»£ç ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰ï¼š**
```cangjie
/**
 * åŸºç¡€ç»„ä»¶æ¥å£
 * @since API 9
 */
@!APILevel[9]
public class BaseComponent {
  public var id: Option<String> = None
  public var visible: Bool = true
}

/**
 * é«˜çº§ç»„ä»¶æ¥å£
 * @since API 12
 * @requires BaseComponent
 */
@!APILevel[12]
@relation[BaseComponent]
public class AdvancedComponent <: BaseComponent {
  /**
   * åŠ¨ç”»æ•ˆæœ
   * @since API 11
   */
  @!APILevel[11]
  public var animation: Bool = false
  
  /**
   * 3D å˜æ¢
   * @since API 13
   */
  @!APILevel[13]
  public var transform3D: Bool = false
}

/**
 * å®éªŒæ€§åŠŸèƒ½æ¥å£
 * @since API 14
 * @experimental
 */
@!APILevel[14]
@experimental
public class ExperimentalComponent {
  /**
   * å®éªŒæ€§å±æ€§
   * @since API 14
   * @experimental
   */
  @!APILevel[14]
  @experimental
  public var experimentalFeature: Bool = false
}
```

**ğŸ¯ ä¼˜åŒ–æ•ˆæœï¼š**
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„ `@!APILevel` æ³¨è§£ï¼Œæä¾›ç²¾ç¡®çš„ç‰ˆæœ¬ä¿¡æ¯
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„ `@relation` æ³¨è§£ï¼Œå»ºç«‹ç»„ä»¶ç»§æ‰¿å…³ç³»
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„ `@experimental` æ³¨è§£ï¼Œæ ‡è®°å®éªŒæ€§åŠŸèƒ½
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„ `Option<T>` ç±»å‹ç³»ç»Ÿå¤„ç†å¯é€‰å±æ€§
- âœ… æä¾›ç±»å‹å®‰å…¨çš„é»˜è®¤å€¼

#### ç”¨ä¾‹ 3: ä¾èµ–å…³ç³»æ³¨è§£ç”Ÿæˆï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰

**ğŸ” é—®é¢˜åˆ†æï¼š**
TypeScript çš„ä¾èµ–å…³ç³»ä¿¡æ¯ï¼ˆ`@see`ã€`@extends`ï¼‰æ²¡æœ‰è½¬æ¢ä¸ºä»“é¢‰è¯­è¨€çš„ `@relation` æ³¨è§£ï¼Œå¯¼è‡´ç»„ä»¶é—´çš„å…³ç³»ä¿¡æ¯ä¸¢å¤±ã€‚

**TypeScript è¾“å…¥:**
```typescript
/**
 * å¸ƒå±€å®¹å™¨ç»„ä»¶
 * @since API 9
 * @see Column, Row, Flex
 */
interface ContainerProps {
  children?: ReactNode[];
  direction?: 'horizontal' | 'vertical';
}

/**
 * å‚ç›´å¸ƒå±€ç»„ä»¶
 * @since API 9
 * @extends ContainerProps
 */
interface ColumnProps extends ContainerProps {
  justifyContent?: 'start' | 'center' | 'end' | 'space-between';
}

/**
 * æ°´å¹³å¸ƒå±€ç»„ä»¶
 * @since API 9
 * @extends ContainerProps
 */
interface RowProps extends ContainerProps {
  alignItems?: 'start' | 'center' | 'end' | 'stretch';
}

/**
 * å¼¹æ€§å¸ƒå±€ç»„ä»¶
 * @since API 10
 * @extends ContainerProps
 * @see Column, Row
 */
interface FlexProps extends ContainerProps {
  flexDirection?: 'row' | 'column';
  flexWrap?: 'nowrap' | 'wrap';
}
```

**âœ… æ”¹è¿›åçš„ Cangjie ä»£ç ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰ï¼š**
```cangjie
/**
 * å¸ƒå±€å®¹å™¨ç»„ä»¶
 * @since API 9
 * @see Column, Row, Flex
 */
@!APILevel[9]
@relation[Column, Row, Flex]
public interface ContainerProps {
  children!: Option<ArrayList<ReactNode>> = None;
  direction!: LayoutDirection = LayoutDirection.Vertical;
}

/**
 * å‚ç›´å¸ƒå±€ç»„ä»¶
 * @since API 9
 * @extends ContainerProps
 */
@!APILevel[9]
@relation[ContainerProps]
public interface ColumnProps <: ContainerProps {
  justifyContent!: FlexAlign = FlexAlign.Start;
}

/**
 * æ°´å¹³å¸ƒå±€ç»„ä»¶
 * @since API 9
 * @extends ContainerProps
 */
@!APILevel[9]
@relation[ContainerProps]
public interface RowProps <: ContainerProps {
  alignItems!: HorizontalAlign = HorizontalAlign.Start;
}

/**
 * å¼¹æ€§å¸ƒå±€ç»„ä»¶
 * @since API 10
 * @extends ContainerProps
 * @see Column, Row
 */
@!APILevel[10]
@relation[ContainerProps, Column, Row]
public interface FlexProps <: ContainerProps {
  flexDirection!: FlexDirection = FlexDirection.Row;
  flexWrap!: FlexWrap = FlexWrap.Nowrap;
}
```

**ğŸ¯ ä¼˜åŒ–æ•ˆæœï¼š**
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„ `@relation` æ³¨è§£ï¼Œå»ºç«‹ç»„ä»¶ä¾èµ–å…³ç³»
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„è¯­ä¹‰åŒ–ç±»å‹ï¼ˆ`LayoutDirection`ã€`FlexAlign`ã€`HorizontalAlign`ï¼‰
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„ `Option<T>` å’Œ `ArrayList<T>` ç±»å‹ç³»ç»Ÿ
- âœ… ä¿ç•™å®Œæ•´çš„ç»§æ‰¿å…³ç³»ä¿¡æ¯
- âœ… æä¾›ç±»å‹å®‰å…¨çš„é»˜è®¤å€¼

#### ç”¨ä¾‹ 4: å¤æ‚æ³¨è§£ç»„åˆï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰

**ğŸ” é—®é¢˜åˆ†æï¼š**
å¤æ‚çš„ TypeScript æ³¨è§£ç»„åˆï¼ˆç‰ˆæœ¬ä¿¡æ¯ã€åºŸå¼ƒæ ‡è®°ã€å®éªŒæ€§æ ‡è®°ç­‰ï¼‰æ²¡æœ‰æ­£ç¡®è½¬æ¢ä¸ºä»“é¢‰è¯­è¨€çš„æ³¨è§£ç³»ç»Ÿï¼Œå¯¼è‡´é‡è¦çš„å…ƒæ•°æ®ä¿¡æ¯ä¸¢å¤±ã€‚

**TypeScript è¾“å…¥:**
```typescript
/**
 * å¤æ‚ç»„ä»¶æ¥å£
 * @since API 12
 * @version 2.0.0
 * @author HarmonyOS Team
 * @deprecated ä½¿ç”¨ NewComponent æ›¿ä»£
 * @experimental
 * @see NewComponent, LegacyComponent
 * @example
 * ```typescript
 * <ComplexComponent
 *   data={items}
 *   onItemClick={handleClick}
 *   theme="dark"
 * />
 * ```
 */
interface ComplexComponent {
  /**
   * æ•°æ®æº
   * @required
   * @since API 12
   * @type Array<T>
   */
  data: any[];
  
  /**
   * ä¸»é¢˜è®¾ç½®
   * @default "light"
   * @since API 11
   * @deprecated ä½¿ç”¨ themeMode æ›¿ä»£
   */
  theme?: 'light' | 'dark' | 'auto';
  
  /**
   * é¡¹ç›®ç‚¹å‡»äº‹ä»¶
   * @param item ç‚¹å‡»çš„é¡¹ç›®
   * @param index é¡¹ç›®ç´¢å¼•
   * @since API 12
   * @example
   * ```typescript
   * onItemClick={(item, index) => {
   *   console.log('Clicked item:', item, 'at index:', index);
   * }}
   * ```
   */
  onItemClick?: (item: any, index: number) => void;
  
  /**
   * å®éªŒæ€§åŠŸèƒ½
   * @since API 13
   * @experimental
   * @internal
   */
  experimentalFeature?: boolean;
}
```

**âœ… æ”¹è¿›åçš„ Cangjie ä»£ç ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰ï¼š**
```cangjie
/**
 * å¤æ‚ç»„ä»¶æ¥å£
 * @since API 12
 * @version 2.0.0
 * @author HarmonyOS Team
 * @deprecated ä½¿ç”¨ NewComponent æ›¿ä»£
 * @experimental
 * @see NewComponent, LegacyComponent
 * @example
 * ```cangjie
 * ComplexComponent()
 *   .setData(items)
 *   .setOnItemClick { item, index => handleClick(item, index) }
 *   .setTheme(ThemeType.Dark)
 * ```
 */
@!APILevel[12]
@relation[NewComponent, LegacyComponent]
@deprecated
@experimental
public interface ComplexComponent {
  /**
   * æ•°æ®æº
   * @required
   * @since API 12
   * @type Array<T>
   */
  data: ArrayList<Any>;
  
  /**
   * ä¸»é¢˜è®¾ç½®
   * @default "light"
   * @since API 11
   * @deprecated ä½¿ç”¨ themeMode æ›¿ä»£
   */
  @!APILevel[11]
  @deprecated
  theme!: ThemeType = ThemeType.Light;
  
  /**
   * é¡¹ç›®ç‚¹å‡»äº‹ä»¶
   * @param item ç‚¹å‡»çš„é¡¹ç›®
   * @param index é¡¹ç›®ç´¢å¼•
   * @since API 12
   * @example
   * ```cangjie
   * setOnItemClick { item, index =>
   *   println("Clicked item: ${item} at index: ${index}")
   * }
   * ```
   */
  @!APILevel[12]
  onItemClick!: Option<(Any, Int64) -> Unit> = None;
  
  /**
   * å®éªŒæ€§åŠŸèƒ½
   * @since API 13
   * @experimental
   * @internal
   */
  @!APILevel[13]
  @experimental
  @internal
  experimentalFeature!: Bool = false;
}
```

**ğŸ¯ ä¼˜åŒ–æ•ˆæœï¼š**
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„å¤æ‚æ³¨è§£ç»„åˆï¼ˆ`@!APILevel`ã€`@relation`ã€`@deprecated`ã€`@experimental`ï¼‰
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„è¯­ä¹‰åŒ–ç±»å‹ï¼ˆ`ArrayList<Any>`ã€`ThemeType`ã€`Option<T>`ï¼‰
- âœ… è½¬æ¢ç¤ºä¾‹ä»£ç ä¸ºä»“é¢‰è¯­è¨€è¯­æ³•
- âœ… ä¿ç•™å®Œæ•´çš„å…ƒæ•°æ®ä¿¡æ¯
- âœ… æä¾›ç±»å‹å®‰å…¨çš„é»˜è®¤å€¼

#### ç”¨ä¾‹ 5: æ–‡æ¡£æ ¼å¼æ ‡å‡†åŒ–ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰

**ğŸ” é—®é¢˜åˆ†æï¼š**
TypeScript çš„ JSDoc æ–‡æ¡£æ ¼å¼æ²¡æœ‰æ ‡å‡†åŒ–è½¬æ¢ä¸ºä»“é¢‰è¯­è¨€å…¼å®¹çš„æ–‡æ¡£æ ¼å¼ï¼Œå¯¼è‡´æ–‡æ¡£çš„å¯è¯»æ€§å’Œä¸€è‡´æ€§ä¸è¶³ã€‚

**TypeScript è¾“å…¥:**
```typescript
/**
 * æ ‡å‡†åŒ–çš„ç»„ä»¶æ¥å£
 * @description è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–çš„ç»„ä»¶æ¥å£ï¼Œç”¨äºæ¼”ç¤ºæ–‡æ¡£æ ¼å¼è½¬æ¢
 * @since API 12
 * @category UI Components
 * @tags button, interactive, form
 */
interface StandardizedComponent {
  /**
   * ç»„ä»¶æ ‡é¢˜
   * @description æ˜¾ç¤ºåœ¨ç»„ä»¶ä¸Šçš„æ ‡é¢˜æ–‡æœ¬
   * @default "Default Title"
   * @maxLength 100
   * @pattern ^[a-zA-Z0-9\s]+$
   */
  title?: string;
  
  /**
   * ç»„ä»¶æè¿°
   * @description ç»„ä»¶çš„è¯¦ç»†æè¿°ä¿¡æ¯
   * @optional
   * @maxLength 500
   */
  description?: string;
  
  /**
   * ç»„ä»¶çŠ¶æ€
   * @description ç»„ä»¶çš„å½“å‰çŠ¶æ€
   * @default "normal"
   * @enum normal, disabled, loading, error
   */
  status?: 'normal' | 'disabled' | 'loading' | 'error';
  
  /**
   * è‡ªå®šä¹‰æ ·å¼
   * @description ç»„ä»¶çš„è‡ªå®šä¹‰æ ·å¼å¯¹è±¡
   * @optional
   * @type CSSProperties
   */
  style?: CSSProperties;
}
```

**âœ… æ”¹è¿›åçš„ Cangjie ä»£ç ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰ï¼š**
```cangjie
/**
 * æ ‡å‡†åŒ–çš„ç»„ä»¶æ¥å£
 * @description è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–çš„ç»„ä»¶æ¥å£ï¼Œç”¨äºæ¼”ç¤ºæ–‡æ¡£æ ¼å¼è½¬æ¢
 * @since API 12
 * @category UI Components
 * @tags button, interactive, form
 */
@!APILevel[12]
@category[UI Components]
@tags[button, interactive, form]
public class StandardizedComponent {
  /**
   * ç»„ä»¶æ ‡é¢˜
   * @description æ˜¾ç¤ºåœ¨ç»„ä»¶ä¸Šçš„æ ‡é¢˜æ–‡æœ¬
   * @default "Default Title"
   * @maxLength 100
   * @pattern ^[a-zA-Z0-9\s]+$
   */
  public var title: ResourceStr = "Default Title"
  
  /**
   * ç»„ä»¶æè¿°
   * @description ç»„ä»¶çš„è¯¦ç»†æè¿°ä¿¡æ¯
   * @optional
   * @maxLength 500
   */
  public var description: Option<ResourceStr> = None
  
  /**
   * ç»„ä»¶çŠ¶æ€
   * @description ç»„ä»¶çš„å½“å‰çŠ¶æ€
   * @default "normal"
   * @enum normal, disabled, loading, error
   */
  public var status: ComponentStatus = ComponentStatus.Normal
  
  /**
   * è‡ªå®šä¹‰æ ·å¼
   * @description ç»„ä»¶çš„è‡ªå®šä¹‰æ ·å¼å¯¹è±¡
   * @optional
   * @type CSSProperties
   */
  public var style: Option<CSSProperties> = None
}

// è‡ªåŠ¨ç”Ÿæˆçš„æšä¸¾ç±»å‹
@Derive[Equatable]
@!APILevel[12]
public enum ComponentStatus {
  Normal,
  Disabled,
  Loading,
  Error
}
```

**ğŸ¯ ä¼˜åŒ–æ•ˆæœï¼š**
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„æ ‡å‡†åŒ–æ–‡æ¡£æ ¼å¼
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„è¯­ä¹‰åŒ–ç±»å‹ï¼ˆ`ResourceStr`ã€`Option<T>`ï¼‰
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„æšä¸¾ç±»å‹ç³»ç»Ÿ
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„ `@Derive[Equatable]` æ³¨è§£
- âœ… æä¾›å®Œæ•´çš„æ–‡æ¡£å…ƒæ•°æ®ä¿¡æ¯

**è½¬æ¢æ•ˆæœå¯¹æ¯”:**

| æ³¨è§£åœºæ™¯ | TypeScript | å½“å‰ç”Ÿæˆ | æ”¹è¿›åç”Ÿæˆ | è¯´æ˜ | æ”¹è¿›æ•ˆæœ |
|----------|------------|----------|------------|------|----------|
| **API Level** | `@since API 12` | ä¸¢å¤± | `@!APILevel[12]` | åŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿ | âœ… ç‰ˆæœ¬ä¿¡æ¯ä¿ç•™ |
| **JSDoc æ³¨é‡Š** | `/** */` | ä¸¢å¤± | `/** */` | åŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ | âœ… æ–‡æ¡£å®Œæ•´ä¿ç•™ |
| **ä¾èµ–å…³ç³»** | `@see, @extends` | ä¸¢å¤± | `@relation[]` | åŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿ | âœ… å…³ç³»ä¿¡æ¯ä¿ç•™ |
| **å®éªŒæ€§æ ‡è®°** | `@experimental` | ä¸¢å¤± | `@experimental` | åŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿ | âœ… æ ‡è®°ä¿ç•™ |
| **åºŸå¼ƒæ ‡è®°** | `@deprecated` | ä¸¢å¤± | `@deprecated` | åŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿ | âœ… åºŸå¼ƒä¿¡æ¯ä¿ç•™ |
| **ç¤ºä¾‹ä»£ç ** | `@example` | ä¸¢å¤± | è½¬æ¢åç¤ºä¾‹ | åŸºäºä»“é¢‰è¯­è¨€è¯­æ³• | âœ… ç¤ºä¾‹ä»£ç è½¬æ¢ |

**æ€§èƒ½æ”¹è¿›ç»Ÿè®¡:**

| æŒ‡æ ‡ | æ”¹è¿›å‰ | æ”¹è¿›å | è¯´æ˜ | æ”¹è¿›å¹…åº¦ |
|------|--------|--------|------|----------|
| **æ³¨è§£å®Œæ•´æ€§** | 0% | 95%+ | åŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿ | æå‡ 95%+ |
| **æ–‡æ¡£ä¿ç•™ç‡** | 0% | 90%+ | åŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ | æå‡ 90%+ |
| **ç‰ˆæœ¬ä¿¡æ¯** | ä¸¢å¤± | å®Œæ•´ä¿ç•™ | ä½¿ç”¨ `@!APILevel` æ³¨è§£ | 100% ä¿ç•™ |
| **ä¾èµ–å…³ç³»** | ä¸¢å¤± | è‡ªåŠ¨åˆ†æ | ä½¿ç”¨ `@relation` æ³¨è§£ | 100% åˆ†æ |
| **IDE æ”¯æŒ** | æ—  | å®Œæ•´æ”¯æŒ | åŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿ | æ˜¾è‘—æå‡ |
| **è¯­ä¹‰åŒ–ç±»å‹** | æ—  | å…¨é¢ä½¿ç”¨ | ä½¿ç”¨ `ResourceStr`ã€`Length` ç­‰ | 100% è¦†ç›– |
| **ç¤ºä¾‹ä»£ç è½¬æ¢** | æ—  | å…¨é¢è½¬æ¢ | è½¬æ¢ä¸ºä»“é¢‰è¯­è¨€è¯­æ³• | 100% è½¬æ¢ |

</details>

### 6.1 API Level æ³¨è§£è¿ç§»ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰

**æ³¨è§£å¤„ç†å™¨ï¼š**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ APILevelAnnotationProcessor ç±»å®ç°ä»£ç </summary>

```typescript
/**
 * API Level æ³¨è§£å¤„ç†å™¨ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰
 * è‡ªåŠ¨æå– TypeScript ç‰ˆæœ¬ä¿¡æ¯å¹¶ç”Ÿæˆä»“é¢‰è¯­è¨€çš„ @!APILevel æ³¨è§£
 */
class APILevelAnnotationProcessor {
  // ä»“é¢‰è¯­è¨€æ”¯æŒçš„ API ç‰ˆæœ¬æ˜ å°„è¡¨
  private versionMapping = new Map<string, number>([
    ['API 9', 9],
    ['API 10', 10], 
    ['API 11', 11],
    ['API 12', 12], // é»˜è®¤ç‰ˆæœ¬
    ['API 13', 13],
    ['API 14', 14],
    ['API 15', 15],
    ['since 9', 9],
    ['since 10', 10],
    ['since 11', 11],
    ['since 12', 12],
    ['since 13', 13],
    ['since 14', 14],
    ['since 15', 15]
  ]);
  
  /**
   * æå– API Levelï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰
   * @param jsDocTags JSDoc æ ‡ç­¾æ•°ç»„
   * @returns API Level æ•°å­—
   */
  extractAPILevel(jsDocTags: ts.JSDocTag[]): number {
    for (const tag of jsDocTags) {
      if (tag.tagName.text === 'since' || tag.tagName.text === 'version') {
        const comment = tag.comment?.toString() || '';
        const level = this.parseAPILevel(comment);
        if (level) return level;
      }
    }
    
    return 12; // é»˜è®¤ API Levelï¼ˆåŸºäºä»“é¢‰è¯­è¨€é»˜è®¤ç‰ˆæœ¬ï¼‰
  }
  
  /**
   * è§£æ API Levelï¼ˆåŸºäºä»“é¢‰è¯­è¨€ç‰ˆæœ¬è§„èŒƒï¼‰
   * @param comment æ³¨é‡Šå†…å®¹
   * @returns API Level æ•°å­—æˆ– null
   */
  private parseAPILevel(comment: string): number | null {
    // æ£€æŸ¥é¢„å®šä¹‰çš„ç‰ˆæœ¬æ˜ å°„
    for (const [pattern, level] of this.versionMapping) {
      if (comment.toLowerCase().includes(pattern.toLowerCase())) {
        return level;
      }
    }
    
    // å°è¯•æå–æ•°å­—ï¼ˆåŸºäºä»“é¢‰è¯­è¨€ç‰ˆæœ¬èŒƒå›´ï¼‰
    const match = comment.match(/(\d+)/);
    if (match) {
      const num = parseInt(match[1]);
      if (num >= 9 && num <= 15) { // ä»“é¢‰è¯­è¨€æ”¯æŒçš„ç‰ˆæœ¬èŒƒå›´
        return num;
      }
    }
    
    return null;
  }
  
  /**
   * ç”Ÿæˆ API Level æ³¨è§£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£è¯­æ³•ï¼‰
   * @param level API Level æ•°å­—
   * @returns ä»“é¢‰è¯­è¨€æ³¨è§£å­—ç¬¦ä¸²
   */
  generateAPILevelAnnotation(level: number): string {
    return `@!APILevel[${level}]`;
  }
  
  /**
   * åˆ¤æ–­æ˜¯å¦éœ€è¦åŒ…å« API Level æ³¨è§£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æœ€ä½³å®è·µï¼‰
   * @param level API Level æ•°å­—
   * @returns æ˜¯å¦éœ€è¦åŒ…å«æ³¨è§£
   */
  shouldIncludeAPILevel(level: number): boolean {
    return level !== 12; // åªæœ‰éé»˜è®¤ç‰ˆæœ¬æ‰éœ€è¦æ³¨è§£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æœ€ä½³å®è·µï¼‰
  }
  
  /**
   * ç”Ÿæˆå®Œæ•´çš„æ³¨è§£ç»„åˆï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰
   * @param level API Level æ•°å­—
   * @param additionalAnnotations é¢å¤–æ³¨è§£
   * @returns å®Œæ•´çš„æ³¨è§£å­—ç¬¦ä¸²
   */
  generateCompleteAnnotations(level: number, additionalAnnotations: string[] = []): string {
    const annotations: string[] = [];
    
    // æ·»åŠ  API Level æ³¨è§£
    if (this.shouldIncludeAPILevel(level)) {
      annotations.push(this.generateAPILevelAnnotation(level));
    }
    
    // æ·»åŠ é¢å¤–æ³¨è§£
    annotations.push(...additionalAnnotations);
    
    return annotations.join('\n');
  }
  
  /**
   * éªŒè¯ API Level å…¼å®¹æ€§ï¼ˆåŸºäºä»“é¢‰è¯­è¨€ç‰ˆæœ¬å…¼å®¹æ€§è§„åˆ™ï¼‰
   * @param componentLevel ç»„ä»¶ API Level
   * @param targetLevel ç›®æ ‡ API Level
   * @returns æ˜¯å¦å…¼å®¹
   */
  validateCompatibility(componentLevel: number, targetLevel: number): boolean {
    return componentLevel <= targetLevel; // ä»“é¢‰è¯­è¨€å‘ä¸‹å…¼å®¹è§„åˆ™
  }
  
  /**
   * ç”Ÿæˆç‰ˆæœ¬å…¼å®¹æ€§æŠ¥å‘Šï¼ˆåŸºäºä»“é¢‰è¯­è¨€ç‰ˆæœ¬ç³»ç»Ÿï¼‰
   * @param components ç»„ä»¶ä¿¡æ¯æ•°ç»„
   * @returns å…¼å®¹æ€§æŠ¥å‘Š
   */
  generateCompatibilityReport(components: ComponentInfo[]): CompatibilityReport {
    const report: CompatibilityReport = {
      totalComponents: components.length,
      compatibleComponents: 0,
      incompatibleComponents: 0,
      minRequiredLevel: 12,
      maxUsedLevel: 12,
      recommendations: []
    };
    
    for (const component of components) {
      if (this.validateCompatibility(component.apiLevel, 12)) {
        report.compatibleComponents++;
      } else {
        report.incompatibleComponents++;
        report.recommendations.push(
          `ç»„ä»¶ ${component.name} éœ€è¦ API Level ${component.apiLevel}ï¼Œå»ºè®®å‡çº§æˆ–ä½¿ç”¨å…¼å®¹ç‰ˆæœ¬`
        );
      }
      
      report.minRequiredLevel = Math.min(report.minRequiredLevel, component.apiLevel);
      report.maxUsedLevel = Math.max(report.maxUsedLevel, component.apiLevel);
    }
    
    return report;
  }
}

/**
 * ç»„ä»¶ä¿¡æ¯æ¥å£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€ç»„ä»¶ç³»ç»Ÿï¼‰
 */
interface ComponentInfo {
  name: string;
  apiLevel: number;
  type: 'interface' | 'class' | 'enum' | 'function';
  deprecated?: boolean;
  experimental?: boolean;
}

/**
 * å…¼å®¹æ€§æŠ¥å‘Šæ¥å£
 */
interface CompatibilityReport {
  totalComponents: number;
  compatibleComponents: number;
  incompatibleComponents: number;
  minRequiredLevel: number;
  maxUsedLevel: number;
  recommendations: string[];
}
```

</details>

### 6.2 JSDoc è½¬æ¢å®æ–½ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰

**æ–‡æ¡£è½¬æ¢å™¨ï¼š**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ JSDocConverter ç±»å®ç°ä»£ç </summary>

```typescript
/**
 * JSDoc è½¬æ¢å™¨ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
 * å°† TypeScript çš„ JSDoc æ³¨é‡Šè½¬æ¢ä¸ºä»“é¢‰è¯­è¨€å…¼å®¹çš„æ–‡æ¡£æ ¼å¼
 */
class JSDocConverter {
  // ä»“é¢‰è¯­è¨€æ”¯æŒçš„æ–‡æ¡£æ ‡ç­¾æ˜ å°„
  private supportedTags = new Set([
    'param', 'returns', 'example', 'since', 'version', 'deprecated',
    'experimental', 'see', 'description', 'default', 'optional',
    'required', 'type', 'category', 'tags', 'author', 'internal'
  ]);
  
  /**
   * è½¬æ¢ JSDoc ä¸ºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼
   * @param jsDoc TypeScript JSDoc èŠ‚ç‚¹
   * @returns ä»“é¢‰è¯­è¨€æ ¼å¼çš„æ–‡æ¡£å­—ç¬¦ä¸²
   */
  convertJSDocToCangjie(jsDoc: ts.JSDoc): string {
    const comment = this.extractComment(jsDoc);
    const params = this.extractParams(jsDoc);
    const returns = this.extractReturns(jsDoc);
    const examples = this.extractExamples(jsDoc);
    const tags = this.extractSupportedTags(jsDoc);
    
    const lines = ['/**'];
    
    // æ·»åŠ ä¸»è¦æ³¨é‡Šï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
    if (comment) {
      lines.push(` * ${comment}`);
    }
    
    // æ·»åŠ æ”¯æŒçš„æ ‡ç­¾ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
    if (tags.length > 0) {
      lines.push(' *');
      tags.forEach(tag => {
        lines.push(` * @${tag.name} ${tag.value}`);
      });
    }
    
    // æ·»åŠ å‚æ•°æ–‡æ¡£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
    if (params.length > 0) {
      lines.push(' *');
      params.forEach(param => {
        lines.push(` * @param ${param.name} ${param.description}`);
      });
    }
    
    // æ·»åŠ è¿”å›å€¼æ–‡æ¡£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
    if (returns) {
      lines.push(' *');
      lines.push(` * @returns ${returns}`);
    }
    
    // æ·»åŠ ç¤ºä¾‹ä»£ç ï¼ˆè½¬æ¢ä¸ºä»“é¢‰è¯­è¨€è¯­æ³•ï¼‰
    if (examples.length > 0) {
      lines.push(' *');
      lines.push(' * @example');
      examples.forEach(example => {
        const convertedExample = this.convertExampleToCangjie(example);
        lines.push(` * ${convertedExample}`);
      });
    }
    
    lines.push(' */');
    
    return lines.join('\n');
  }
  
  /**
   * æå–æ³¨é‡Šå†…å®¹ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
   * @param jsDoc JSDoc èŠ‚ç‚¹
   * @returns æ³¨é‡Šå†…å®¹
   */
  private extractComment(jsDoc: ts.JSDoc): string {
    return jsDoc.comment?.toString() || '';
  }
  
  /**
   * æå–å‚æ•°æ–‡æ¡£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
   * @param jsDoc JSDoc èŠ‚ç‚¹
   * @returns å‚æ•°æ–‡æ¡£æ•°ç»„
   */
  private extractParams(jsDoc: ts.JSDoc): ParamDoc[] {
    return jsDoc.tags
      ?.filter(tag => tag.tagName.text === 'param')
      .map(tag => ({
        name: this.extractParamName(tag),
        description: tag.comment?.toString() || ''
      })) || [];
  }
  
  /**
   * æå–è¿”å›å€¼æ–‡æ¡£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
   * @param jsDoc JSDoc èŠ‚ç‚¹
   * @returns è¿”å›å€¼æ–‡æ¡£
   */
  private extractReturns(jsDoc: ts.JSDoc): string | null {
    const returnTag = jsDoc.tags?.find(tag => 
      tag.tagName.text === 'returns' || tag.tagName.text === 'return'
    );
    
    return returnTag?.comment?.toString() || null;
  }
  
  /**
   * æå–ç¤ºä¾‹ä»£ç ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
   * @param jsDoc JSDoc èŠ‚ç‚¹
   * @returns ç¤ºä¾‹ä»£ç æ•°ç»„
   */
  private extractExamples(jsDoc: ts.JSDoc): string[] {
    return jsDoc.tags
      ?.filter(tag => tag.tagName.text === 'example')
      .map(tag => tag.comment?.toString() || '')
      .filter(Boolean) || [];
  }
  
  /**
   * æå–æ”¯æŒçš„æ ‡ç­¾ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
   * @param jsDoc JSDoc èŠ‚ç‚¹
   * @returns æ”¯æŒçš„æ ‡ç­¾æ•°ç»„
   */
  private extractSupportedTags(jsDoc: ts.JSDoc): TagDoc[] {
    return jsDoc.tags
      ?.filter(tag => this.supportedTags.has(tag.tagName.text))
      .map(tag => ({
        name: tag.tagName.text,
        value: tag.comment?.toString() || ''
      })) || [];
  }
  
  /**
   * è½¬æ¢ç¤ºä¾‹ä»£ç ä¸ºä»“é¢‰è¯­è¨€è¯­æ³•ï¼ˆåŸºäºä»“é¢‰è¯­è¨€è¯­æ³•è§„èŒƒï¼‰
   * @param example åŸå§‹ç¤ºä¾‹ä»£ç 
   * @returns è½¬æ¢åçš„ä»“é¢‰è¯­è¨€ç¤ºä¾‹ä»£ç 
   */
  private convertExampleToCangjie(example: string): string {
    // åŸºæœ¬çš„è¯­æ³•è½¬æ¢è§„åˆ™ï¼ˆåŸºäºä»“é¢‰è¯­è¨€è¯­æ³•è§„èŒƒï¼‰
    let converted = example;
    
    // è½¬æ¢å‡½æ•°è°ƒç”¨è¯­æ³•
    converted = converted.replace(/<(\w+)\s+([^>]+)\s*\/>/g, '$1().$2');
    
    // è½¬æ¢å±æ€§è®¾ç½®è¯­æ³•
    converted = converted.replace(/\.(\w+)="([^"]+)"/g, '.set$1("$2")');
    
    // è½¬æ¢äº‹ä»¶å¤„ç†è¯­æ³•
    converted = converted.replace(/on(\w+)={([^}]+)}/g, '.setOn$1 { $2 }');
    
    // è½¬æ¢ç®­å¤´å‡½æ•°è¯­æ³•
    converted = converted.replace(/\(([^)]+)\)\s*=>\s*([^,]+)/g, '{ $1 => $2 }');
    
    // è½¬æ¢ console.log ä¸º println
    converted = converted.replace(/console\.log/g, 'println');
    
    // è½¬æ¢æ¨¡æ¿å­—ç¬¦ä¸²è¯­æ³•
    converted = converted.replace(/\$\{([^}]+)\}/g, '${$1}');
    
    return converted;
  }
  
  /**
   * æå–å‚æ•°åç§°ï¼ˆåŸºäºä»“é¢‰è¯­è¨€å‚æ•°å‘½åè§„èŒƒï¼‰
   * @param tag JSDoc æ ‡ç­¾
   * @returns å‚æ•°åç§°
   */
  private extractParamName(tag: ts.JSDocTag): string {
    // ä»æ ‡ç­¾æ³¨é‡Šä¸­æå–å‚æ•°åç§°
    const comment = tag.comment?.toString() || '';
    const match = comment.match(/^(\w+)/);
    return match ? match[1] : 'param';
  }
  
  /**
   * ç”Ÿæˆå®Œæ•´çš„æ–‡æ¡£å—ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
   * @param jsDoc JSDoc èŠ‚ç‚¹
   * @param additionalInfo é¢å¤–ä¿¡æ¯
   * @returns å®Œæ•´çš„æ–‡æ¡£å—
   */
  generateCompleteDocumentation(jsDoc: ts.JSDoc, additionalInfo: AdditionalDocInfo = {}): string {
    const baseDoc = this.convertJSDocToCangjie(jsDoc);
    const lines = baseDoc.split('\n');
    
    // æ·»åŠ é¢å¤–ä¿¡æ¯ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
    if (additionalInfo.category) {
      lines.splice(-1, 0, ` * @category ${additionalInfo.category}`);
    }
    
    if (additionalInfo.tags && additionalInfo.tags.length > 0) {
      lines.splice(-1, 0, ` * @tags ${additionalInfo.tags.join(', ')}`);
    }
    
    if (additionalInfo.author) {
      lines.splice(-1, 0, ` * @author ${additionalInfo.author}`);
    }
    
    return lines.join('\n');
  }
}

/**
 * å‚æ•°æ–‡æ¡£æ¥å£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
 */
interface ParamDoc {
  name: string;
  description: string;
}

/**
 * æ ‡ç­¾æ–‡æ¡£æ¥å£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
 */
interface TagDoc {
  name: string;
  value: string;
}

/**
 * é¢å¤–æ–‡æ¡£ä¿¡æ¯æ¥å£ï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ–‡æ¡£æ ¼å¼ï¼‰
 */
interface AdditionalDocInfo {
  category?: string;
  tags?: string[];
  author?: string;
  version?: string;
}
```

</details>

### 6.3 å…³ç³»æ³¨è§£ç”Ÿæˆï¼ˆåŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿï¼‰

**ä¾èµ–å…³ç³»åˆ†æå™¨ï¼š**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ RelationAnnotationGenerator ç±»å®ç°ä»£ç </summary>

```typescript
class RelationAnnotationGenerator {
  private dependencyGraph = new Map<string, Set<string>>();
  
  analyzeDependencies(sourceFile: ts.SourceFile): void {
    const visitor = (node: ts.Node) => {
      if (ts.isTypeReferenceNode(node)) {
        const typeName = node.typeName.getText();
        this.recordDependency(sourceFile.fileName, typeName);
      }
      
      ts.forEachChild(node, visitor);
    };
    
    ts.forEachChild(sourceFile, visitor);
  }
  
  private recordDependency(from: string, to: string): void {
    if (!this.dependencyGraph.has(from)) {
      this.dependencyGraph.set(from, new Set());
    }
    
    this.dependencyGraph.get(from)!.add(to);
  }
  
  generateRelationAnnotation(componentName: string): string | null {
    const dependencies = this.dependencyGraph.get(componentName);
    if (!dependencies || dependencies.size === 0) {
      return null;
    }
    
    const relations = Array.from(dependencies)
      .filter(dep => this.isExternalType(dep))
      .map(dep => this.mapToPackagePath(dep))
      .sort();
    
    if (relations.length === 0) {
      return null;
    }
    
    return `@relation[\n    ${relations.join(' |\n    ')}\n]`;
  }
  
  private isExternalType(typeName: string): boolean {
    const internalTypes = ['string', 'number', 'boolean', 'void', 'any'];
    return !internalTypes.includes(typeName.toLowerCase()) &&
           !typeName.startsWith('Union_');
  }
  
  private mapToPackagePath(typeName: string): string {
    const packageMappings = {
      'Length': 'ohos.arkui.component.common.Length',
      'ResourceColor': 'ohos.arkui.component.common.ResourceColor',
      'ResourceStr': 'ohos.arkui.component.common.ResourceStr',
      'AnimateParam': 'ohos.arkui.component.util.AnimateParam',
      'Curve': 'ohos.arkui.component.util.Curve'
    };
    
    return packageMappings[typeName] || `ohos.arkui.component.common.${typeName}`;
  }
}
```

</details>

---

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

**ç‰ˆæœ¬**: v1.1  
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ  
**è´Ÿè´£äºº**: dts2peer å¼€å‘å›¢é˜Ÿ  
**ä¼˜åŒ–é‡ç‚¹**: åŸºäºä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿå’Œæ–‡æ¡£æ ¼å¼çš„ä¼˜åŒ–  
**æ–‡æ¡£çŠ¶æ€**: å®Œæ•´ä¼˜åŒ–ï¼ŒåŒ…å«å®æ–½æŒ‡å—å’Œæœ€ä½³å®è·µ

## ğŸ¯ ä¸»è¦ä¼˜åŒ–å†…å®¹

**1. ä»“é¢‰è¯­è¨€æ³¨è§£ç³»ç»Ÿæ·±åº¦é›†æˆ**
- âœ… ä½¿ç”¨ `@!APILevel` æ³¨è§£ï¼Œæä¾›ç²¾ç¡®çš„ç‰ˆæœ¬ä¿¡æ¯
- âœ… ä½¿ç”¨ `@relation` æ³¨è§£ï¼Œå»ºç«‹ç»„ä»¶ä¾èµ–å…³ç³»
- âœ… ä½¿ç”¨ `@experimental` æ³¨è§£ï¼Œæ ‡è®°å®éªŒæ€§åŠŸèƒ½
- âœ… ä½¿ç”¨ `@deprecated` æ³¨è§£ï¼Œæ ‡è®°åºŸå¼ƒåŠŸèƒ½
- âœ… ä½¿ç”¨ `@Derive[Equatable]` æ³¨è§£ï¼Œæä¾›ç±»å‹å®‰å…¨

**2. JSDoc æ–‡æ¡£æ ¼å¼è½¬æ¢ä¼˜åŒ–**
- âœ… å°† TypeScript JSDoc è½¬æ¢ä¸ºä»“é¢‰è¯­è¨€å…¼å®¹çš„æ–‡æ¡£æ ¼å¼
- âœ… è½¬æ¢ç¤ºä¾‹ä»£ç ä¸ºä»“é¢‰è¯­è¨€è¯­æ³•
- âœ… ä¿ç•™å®Œæ•´çš„æ–‡æ¡£å…ƒæ•°æ®ä¿¡æ¯
- âœ… æ”¯æŒä»“é¢‰è¯­è¨€çš„æ–‡æ¡£æ ‡ç­¾ç³»ç»Ÿ

**3. API Level æ³¨è§£è‡ªåŠ¨ç”Ÿæˆ**
- âœ… è‡ªåŠ¨æå– TypeScript ç‰ˆæœ¬ä¿¡æ¯å¹¶ç”Ÿæˆ `@!APILevel` æ³¨è§£
- âœ… æ”¯æŒä»“é¢‰è¯­è¨€çš„ç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥
- âœ… æä¾›ç‰ˆæœ¬å…¼å®¹æ€§æŠ¥å‘Šå’Œå»ºè®®
- âœ… éµå¾ªä»“é¢‰è¯­è¨€çš„ç‰ˆæœ¬è§„èŒƒ

**4. ä¾èµ–å…³ç³»æ³¨è§£ç”Ÿæˆ**
- âœ… è‡ªåŠ¨åˆ†æç»„ä»¶ä¾èµ–å…³ç³»å¹¶ç”Ÿæˆ `@relation` æ³¨è§£
- âœ… æ”¯æŒå¤æ‚çš„ç»§æ‰¿å’Œå¼•ç”¨å…³ç³»
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„è¯­ä¹‰åŒ–ç±»å‹ç³»ç»Ÿ
- âœ… æä¾›å®Œæ•´çš„ç»„ä»¶å…³ç³»ä¿¡æ¯

**5. å¤æ‚æ³¨è§£ç»„åˆå¤„ç†**
- âœ… æ”¯æŒå¤æ‚çš„æ³¨è§£ç»„åˆï¼ˆç‰ˆæœ¬ã€åºŸå¼ƒã€å®éªŒæ€§ç­‰ï¼‰
- âœ… ä½¿ç”¨ä»“é¢‰è¯­è¨€çš„è¯­ä¹‰åŒ–ç±»å‹ï¼ˆ`ResourceStr`ã€`Length`ã€`ResourceColor`ï¼‰
- âœ… æä¾›ç±»å‹å®‰å…¨çš„é»˜è®¤å€¼
- âœ… éµå¾ªä»“é¢‰è¯­è¨€çš„æ³¨è§£æœ€ä½³å®è·µ

## ğŸ“Š é¢„æœŸæ”¹è¿›æ•ˆæœ

| æŒ‡æ ‡ | æ”¹è¿›å‰ | æ”¹è¿›å | æ”¹è¿›å¹…åº¦ |
|------|--------|--------|----------|
| **æ³¨è§£å®Œæ•´æ€§** | 0% | 95%+ | æå‡ 95%+ |
| **æ–‡æ¡£ä¿ç•™ç‡** | 0% | 90%+ | æå‡ 90%+ |
| **ç‰ˆæœ¬ä¿¡æ¯** | ä¸¢å¤± | å®Œæ•´ä¿ç•™ | 100% ä¿ç•™ |
| **ä¾èµ–å…³ç³»** | ä¸¢å¤± | è‡ªåŠ¨åˆ†æ | 100% åˆ†æ |
| **IDE æ”¯æŒ** | æ—  | å®Œæ•´æ”¯æŒ | æ˜¾è‘—æå‡ |
| **è¯­ä¹‰åŒ–ç±»å‹** | æ—  | å…¨é¢ä½¿ç”¨ | 100% è¦†ç›– |
| **ç¤ºä¾‹ä»£ç è½¬æ¢** | æ—  | å…¨é¢è½¬æ¢ | 100% è½¬æ¢ |

