## 2. åŸºç¡€ç±»å‹æ˜ å°„å®æ–½è®¾è®¡ v2.1

### ğŸ“‹ ä¿®æ”¹è¯´æ˜

**ğŸ” é—®é¢˜åˆ†æï¼š**
å½“å‰ `dts2peer` å·¥å…·åœ¨åŸºç¡€ç±»å‹æ˜ å°„æ–¹é¢å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

**æ ¸å¿ƒé—®é¢˜ï¼š**
- TypeScript çš„ `number` ç±»å‹ä¸€å¾‹æ˜ å°„ä¸º `Int64`ï¼Œå¿½ç•¥äº† UI åœºæ™¯ä¸­çš„æµ®ç‚¹æ•°éœ€æ±‚
- ç¼ºä¹è¯­ä¹‰åŒ–ç±»å‹æ”¯æŒï¼Œå¦‚é•¿åº¦ã€é¢œè‰²ã€èµ„æºç­‰ UI ç‰¹æœ‰ç±»å‹
- å¯¹ `string` ç±»å‹çš„å¤„ç†è¿‡äºç®€å•ï¼Œæœªè€ƒè™‘èµ„æºå­—ç¬¦ä¸²ã€æ¨¡æ¿å­—ç¬¦ä¸²ç­‰åœºæ™¯
- ç‰¹æ®Šç±»å‹ï¼ˆ`any`ã€`unknown`ã€`never` ç­‰ï¼‰çš„æ˜ å°„ä¸å¤Ÿç²¾ç¡®

**ä»“é¢‰è¯­è¨€ç‰¹æœ‰é—®é¢˜ï¼š**
- æ²¡æœ‰å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€çš„ç‰¹æœ‰ç±»å‹ç³»ç»Ÿï¼ˆ`ResourceStr`ã€`ResourceColor`ã€`Length` ç­‰ï¼‰
- ç¼ºå°‘å¯¹ä»“é¢‰è¯­è¨€ `Option<T>` ç±»å‹ç³»ç»Ÿçš„æ”¯æŒ
- æ²¡æœ‰åŒºåˆ† `ResourceStr` å’Œ `String` çš„ä½¿ç”¨åœºæ™¯
- æ²¡æœ‰åŸºäºä»“é¢‰è¯­è¨€ç»„ä»¶å£°æ˜çš„å®é™…ä½¿ç”¨æ¨¡å¼è¿›è¡Œæ˜ å°„

**ğŸ¯ ä¼˜åŒ–ç­–ç•¥ï¼š**

**1. ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ˜ å°„**
- æ ¹æ®å±æ€§åã€JSDoc æ³¨é‡Šç­‰ä¸Šä¸‹æ–‡ä¿¡æ¯æ™ºèƒ½é€‰æ‹©ç±»å‹
- åŸºäºä»“é¢‰è¯­è¨€ç»„ä»¶å£°æ˜çš„å®é™…ä½¿ç”¨æ¨¡å¼è¿›è¡Œç²¾ç¡®æ˜ å°„

**2. è¯­ä¹‰åŒ–ç±»å‹å¼•å…¥**
- ä¸º UI å¼€å‘ä¸­çš„å¸¸è§æ¦‚å¿µï¼ˆé•¿åº¦ã€é¢œè‰²ã€èµ„æºç­‰ï¼‰åˆ›å»ºä¸“é—¨çš„ç±»å‹åˆ«å
- å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€ç‰¹æœ‰ç±»å‹ç³»ç»Ÿï¼ŒåŒºåˆ† `ResourceStr`ã€`String`ã€`ResourceColor` çš„ä½¿ç”¨åœºæ™¯

**3. æ¨¡æ¿å­—ç¬¦ä¸²è§£æ**
- è¯†åˆ«å¹¶è½¬æ¢ TypeScript æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹ä¸ºå¯¹åº”çš„ Cangjie ç±»å‹
- åŸºäºä»“é¢‰è¯­è¨€å•ä½ç³»ç»Ÿè¿›è¡Œè§£æ

**4. ç‰¹æ®Šç±»å‹ç²¾ç¡®æ˜ å°„**
- ä¸ºæ¯ç§ç‰¹æ®Šç±»å‹æä¾›æœ€åˆé€‚çš„ Cangjie å¯¹åº”ç±»å‹
- æ”¯æŒä»“é¢‰è¯­è¨€çš„ `Option<T>` ç±»å‹ç³»ç»Ÿï¼Œæ­£ç¡®å¤„ç†å¯é€‰å±æ€§

**5. ç±»å‹å®‰å…¨å¢å¼º**
- å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€çš„ç±»å‹ç³»ç»Ÿä¼˜åŠ¿ï¼Œæé«˜ç±»å‹å®‰å…¨æ€§
- åŸºäºå®é™…ç»„ä»¶å£°æ˜æ¨¡å¼ï¼Œæä¾›æ›´å‡†ç¡®çš„ç±»å‹æ¨æ–­

**ğŸ¯ æœ€ç»ˆç›®æ ‡ï¼š**
- æä¾›æ›´ç²¾ç¡®ã€æ›´è¯­ä¹‰åŒ–çš„ç±»å‹æ˜ å°„
- å‡å°‘ç±»å‹è½¬æ¢æ—¶çš„ä¿¡æ¯ä¸¢å¤±
- æ”¹å–„ç”Ÿæˆä»£ç çš„å¯è¯»æ€§å’Œç±»å‹å®‰å…¨æ€§
- ä¸º UI å¼€å‘æä¾›æ›´è´´åˆå®é™…ä½¿ç”¨åœºæ™¯çš„ç±»å‹æ”¯æŒ
- å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€çš„ç±»å‹ç³»ç»Ÿä¼˜åŠ¿ï¼Œæé«˜ç±»å‹å®‰å…¨æ€§
- æ”¯æŒä»“é¢‰è¯­è¨€çš„ Option ç±»å‹ï¼Œå¤„ç†å¯é€‰å±æ€§
- åŸºäºå®é™…ç»„ä»¶å£°æ˜æ¨¡å¼ï¼Œæä¾›æ›´å‡†ç¡®çš„ç±»å‹æ¨æ–­

### ğŸ“‹ è½¬æ¢ç”¨ä¾‹ç¤ºä¾‹

**ğŸ“ è¯´æ˜ï¼š** ä»¥ä¸‹ç”¨ä¾‹å±•ç¤ºäº†åŸºäºä»“é¢‰è¯­è¨€ç‰¹æœ‰ç±»å‹çš„æ™ºèƒ½æ˜ å°„æ•ˆæœï¼Œæ¯ä¸ªç”¨ä¾‹éƒ½åŒ…å«é—®é¢˜åˆ†æã€è§£å†³æ–¹æ¡ˆå’Œä¼˜åŒ–æ•ˆæœå¯¹æ¯”ã€‚

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´çš„è½¬æ¢ç”¨ä¾‹</summary>

#### ç”¨ä¾‹ 1: number ç±»å‹æ™ºèƒ½æ˜ å°„

**ğŸ” é—®é¢˜åˆ†æï¼š**
TypeScript çš„ `number` ç±»å‹åœ¨ UI å¼€å‘ä¸­è¡¨ç¤ºä¸åŒçš„è¯­ä¹‰æ¦‚å¿µï¼Œä½†å½“å‰å·¥å…·ç»Ÿä¸€æ˜ å°„ä¸º `Int64`ï¼Œå¯¼è‡´ç±»å‹ä¸åŒ¹é…å’Œè¯­ä¹‰ä¸¢å¤±ã€‚

**TypeScript è¾“å…¥:**
```typescript
// å°ºå¯¸ç›¸å…³å±æ€§
interface SizeProps {
  width?: number;           // å®½åº¦
  height?: number;          // é«˜åº¦
  fontSize?: number;        // å­—ä½“å¤§å°
  margin?: number;          // è¾¹è·
  padding?: number;         // å†…è¾¹è·
  borderRadius?: number;    // åœ†è§’åŠå¾„
}

// æ¯”ä¾‹å’Œè§’åº¦ç›¸å…³å±æ€§
interface RatioProps {
  opacity?: number;         // é€æ˜åº¦ (0-1)
  scale?: number;           // ç¼©æ”¾æ¯”ä¾‹
  rotation?: number;        // æ—‹è½¬è§’åº¦ (0-360)
  progress?: number;        // è¿›åº¦ (0-100)
}

// è®¡æ•°å’Œç´¢å¼•ç›¸å…³å±æ€§
interface CountProps {
  maxLines?: number;        // æœ€å¤§è¡Œæ•°
  itemCount?: number;       // é¡¹ç›®æ•°é‡
  selectedIndex?: number;   // é€‰ä¸­ç´¢å¼•
  zIndex?: number;          // å±‚çº§ç´¢å¼•
}
```

**âœ… æ”¹è¿›åçš„ Cangjie ä»£ç ï¼š**
```cangjie
public class SizeProps {
  public var width: Option<Length> = None      // å¯é€‰é•¿åº¦ç±»å‹
  public var height: Option<Length> = None     // å¯é€‰é•¿åº¦ç±»å‹
  public var fontSize: Length = 16.fp          // é•¿åº¦ç±»å‹
  public var margin: Length = 0.vp             // é•¿åº¦ç±»å‹
  public var padding: Length = 0.vp            // é•¿åº¦ç±»å‹
  public var borderRadius: Length = 8.vp       // é•¿åº¦ç±»å‹
}

public class RatioProps {
  public var opacity: Float64 = 1.0            // æµ®ç‚¹æ•°ç±»å‹ (0-1)
  public var scale: Float64 = 1.0              // æµ®ç‚¹æ•°ç±»å‹
  public var rotation: Float64 = 0.0           // æµ®ç‚¹æ•°ç±»å‹ (0-360)
  public var progress: Float64 = 0.0           // æµ®ç‚¹æ•°ç±»å‹ (0-100)
}

public class CountProps {
  public var maxLines: Int32 = 1               // æ•´æ•°ç±»å‹
  public var itemCount: Int32 = 0              // æ•´æ•°ç±»å‹
  public var selectedIndex: Int32 = -1         // æ•´æ•°ç±»å‹
  public var zIndex: Int64 = 0                 // é•¿æ•´æ•°ç±»å‹
}
```

**ğŸ¯ ä¼˜åŒ–æ•ˆæœï¼š**
- âœ… **è¯­ä¹‰å‡†ç¡®æ€§**: å°ºå¯¸å±æ€§ä½¿ç”¨ `Length` ç±»å‹ï¼Œç¬¦åˆä»“é¢‰è¯­è¨€è¯­ä¹‰
- âœ… **ç±»å‹å®‰å…¨**: å¯é€‰å±æ€§ä½¿ç”¨ `Option<Length>`ï¼Œæä¾›ç±»å‹å®‰å…¨
- âœ… **ç²¾åº¦åˆé€‚**: æ¯”ä¾‹å±æ€§ä½¿ç”¨ `Float64`ï¼Œè®¡æ•°å±æ€§ä½¿ç”¨ `Int32`
- âœ… **å®é™…åŒ¹é…**: åŸºäºä»“é¢‰è¯­è¨€ç»„ä»¶å£°æ˜çš„å®é™…ä½¿ç”¨æ¨¡å¼

#### ç”¨ä¾‹ 2: string ç±»å‹è¯­ä¹‰åŒ–æ˜ å°„

**ğŸ” é—®é¢˜åˆ†æï¼š**
TypeScript çš„ `string` ç±»å‹åœ¨ UI å¼€å‘ä¸­è¡¨ç¤ºä¸åŒçš„è¯­ä¹‰æ¦‚å¿µï¼Œä½†å½“å‰å·¥å…·ç»Ÿä¸€æ˜ å°„ä¸º `String`ï¼Œæ²¡æœ‰å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€çš„ç‰¹æœ‰ç±»å‹ç³»ç»Ÿã€‚

**TypeScript è¾“å…¥:**
```typescript
interface TextProps {
  content?: string;                   // æ–‡æœ¬å†…å®¹
  fontColor?: string;                 // å­—ä½“é¢œè‰²
  backgroundColor?: string;           // èƒŒæ™¯é¢œè‰²
  imageSrc?: string;                  // å›¾ç‰‡è·¯å¾„
  iconName?: string;                  // å›¾æ ‡åç§°
}

interface LayoutProps {
  width?: string;                     // å®½åº¦ï¼ˆæ”¯æŒ "100%"ï¼‰
  height?: string;                    // é«˜åº¦ï¼ˆæ”¯æŒ "auto"ï¼‰
  margin?: string;                    // è¾¹è·ï¼ˆæ”¯æŒ "10px"ï¼‰
  padding?: string;                   // å†…è¾¹è·
}
```

**âŒ å½“å‰ç”Ÿæˆçš„ Cangjie ä»£ç ï¼ˆé—®é¢˜ç‰ˆæœ¬ï¼‰:**
```cangjie
public class TextProps {
  public var content: Option<String> = None                   // è¿‡äºç®€å•ï¼Œåº”è¯¥æ˜¯ ResourceStr
  public var fontColor: Option<String> = None                 // é”™è¯¯ï¼šåº”è¯¥æ˜¯ ResourceColor
  public var backgroundColor: Option<String> = None           // é”™è¯¯ï¼šåº”è¯¥æ˜¯ ResourceColor
  public var imageSrc: Option<String> = None                  // é”™è¯¯ï¼šåº”è¯¥æ˜¯ ResourceStr
  public var iconName: Option<String> = None                  // é”™è¯¯ï¼šåº”è¯¥æ˜¯ ResourceStr
}

public class LayoutProps {
  public var width: Option<String> = None                     // é”™è¯¯ï¼šåº”è¯¥æ˜¯ Length
  public var height: Option<String> = None                    // é”™è¯¯ï¼šåº”è¯¥æ˜¯ Length
  public var margin: Option<String> = None                    // é”™è¯¯ï¼šåº”è¯¥æ˜¯ Length
  public var padding: Option<String> = None                   // é”™è¯¯ï¼šåº”è¯¥æ˜¯ Length
}
```

**âœ… æ”¹è¿›åçš„ Cangjie ä»£ç ï¼š**
```cangjie
public class TextProps {
  public var content: ResourceStr = ""         // èµ„æºå­—ç¬¦ä¸²ç±»å‹ï¼ˆéœ€è¦æœ¬åœ°åŒ–ï¼‰
  public var fontColor: ResourceColor = Color.Black  // èµ„æºé¢œè‰²ç±»å‹
  public var backgroundColor: ResourceColor = Color.Transparent  // èµ„æºé¢œè‰²ç±»å‹
  public var imageSrc: ResourceStr = ""        // èµ„æºå­—ç¬¦ä¸²ç±»å‹ï¼ˆèµ„æºè·¯å¾„ï¼‰
  public var iconName: ResourceStr = ""        // èµ„æºå­—ç¬¦ä¸²ç±»å‹ï¼ˆèµ„æºåç§°ï¼‰
}

public class LayoutProps {
  public var width: Length = Length.Auto       // é•¿åº¦ç±»å‹ï¼Œæ”¯æŒç™¾åˆ†æ¯”
  public var height: Length = Length.Auto      // é•¿åº¦ç±»å‹ï¼Œæ”¯æŒ auto
  public var margin: Length = 0.vp             // é•¿åº¦ç±»å‹ï¼Œæ”¯æŒå•ä½
  public var padding: Length = 0.vp            // é•¿åº¦ç±»å‹ï¼Œæ”¯æŒå•ä½
}

// æ–°å¢ï¼šä½“ç° ResourceStr å’Œ String çš„åŒºåˆ†
public class MessageProps {
  public var content: ResourceStr = ""         // èµ„æºå­—ç¬¦ä¸²ï¼ˆéœ€è¦æœ¬åœ°åŒ–ï¼‰
  public var errorMessage: String = ""         // æ™®é€šå­—ç¬¦ä¸²ï¼ˆé”™è¯¯æ¶ˆæ¯ï¼‰
  public var debugInfo: String = ""            // æ™®é€šå­—ç¬¦ä¸²ï¼ˆè°ƒè¯•ä¿¡æ¯ï¼‰
  public var description: String = ""          // æ™®é€šå­—ç¬¦ä¸²ï¼ˆæè¿°ä¿¡æ¯ï¼‰
}
```

**ğŸ¯ ä¼˜åŒ–æ•ˆæœï¼š**
- âœ… **ç±»å‹åŒºåˆ†**: æ­£ç¡®åŒºåˆ† `ResourceStr`ã€`String`ã€`ResourceColor` çš„ä½¿ç”¨åœºæ™¯
- âœ… **è¯­ä¹‰å‡†ç¡®**: é¢œè‰²å±æ€§ä½¿ç”¨ `ResourceColor`ï¼Œèµ„æºè·¯å¾„ä½¿ç”¨ `ResourceStr`
- âœ… **æœ¬åœ°åŒ–æ”¯æŒ**: éœ€è¦æœ¬åœ°åŒ–çš„æ–‡æœ¬ä½¿ç”¨ `ResourceStr`
- âœ… **ç±»å‹å®‰å…¨**: æ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ `String`ï¼Œé¿å…ä¸å¿…è¦çš„èµ„æºç®¡ç†

#### ç”¨ä¾‹ 3: ç‰¹æ®Šç±»å‹ç²¾ç¡®æ˜ å°„

**ğŸ” é—®é¢˜åˆ†æï¼š**
TypeScript çš„ç‰¹æ®Šç±»å‹ï¼ˆ`any`ã€`unknown`ã€`never` ç­‰ï¼‰éœ€è¦ç²¾ç¡®æ˜ å°„åˆ°ä»“é¢‰è¯­è¨€çš„å¯¹åº”ç±»å‹ï¼Œå½“å‰å·¥å…·çš„å¤„ç†è¿‡äºç®€å•ï¼Œæ²¡æœ‰å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€çš„ç±»å‹å®‰å…¨ç‰¹æ€§ã€‚

**TypeScript è¾“å…¥:**
```typescript
interface SpecialTypes {
  anyValue?: any;                     // ä»»æ„ç±»å‹
  unknownValue?: unknown;             // æœªçŸ¥ç±»å‹
  neverValue?: never;                 // æ°¸ä¸ç±»å‹
  voidValue?: void;                   // ç©ºç±»å‹
  nullValue?: null;                   // ç©ºå€¼ç±»å‹
  undefinedValue?: undefined;         // æœªå®šä¹‰ç±»å‹
}
```

**âŒ å½“å‰ç”Ÿæˆçš„ Cangjie ä»£ç ï¼ˆé—®é¢˜ç‰ˆæœ¬ï¼‰:**
```cangjie
public class SpecialTypes {
  public var anyValue: Option<Any> = None                     // å¯èƒ½ä¸å­˜åœ¨
  public var unknownValue: Option<Any> = None                 // é”™è¯¯æ˜ å°„
  public var neverValue: Option<Any> = None                   // é”™è¯¯æ˜ å°„
  public var voidValue: Unit = Unit                   // æ­£ç¡®
  public var nullValue: Option<Any> = None                    // é”™è¯¯æ˜ å°„
  public var undefinedValue: Option<Any> = None               // é”™è¯¯æ˜ å°„
}
```

**âœ… æ”¹è¿›åçš„ Cangjie ä»£ç ï¼š**
```cangjie
public class SpecialTypes {
  public var anyValue: Option<Any> = None      // å¯é€‰ä»»æ„ç±»å‹ï¼ˆç±»å‹å®‰å…¨ï¼‰
  public var unknownValue: Option<Any> = None  // å¯é€‰ä»»æ„ç±»å‹ï¼ˆéœ€è¦ç±»å‹æ£€æŸ¥ï¼‰
  public var neverValue: Unit = Unit           // æ°¸ä¸ç±»å‹æ˜ å°„ä¸ºç©º
  public var voidValue: Unit = Unit            // ç©ºç±»å‹
  public var nullValue: Option<Any> = None     // å¯é€‰ç±»å‹
  public var undefinedValue: Option<Any> = None // å¯é€‰ç±»å‹
}
```

**ğŸ¯ ä¼˜åŒ–æ•ˆæœï¼š**
- âœ… **ç±»å‹å®‰å…¨**: ä½¿ç”¨ `Option<T>` æä¾›ç±»å‹å®‰å…¨ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯
- âœ… **è¯­ä¹‰å‡†ç¡®**: `never` å’Œ `void` æ­£ç¡®æ˜ å°„ä¸º `Unit`
- âœ… **å¯é€‰å¤„ç†**: å¯èƒ½ä¸ºç©ºçš„å€¼ä½¿ç”¨ `Option<T>` åŒ…è£…
- âœ… **å®‰å…¨æ£€æŸ¥**: æä¾›ç±»å‹æ£€æŸ¥å»ºè®®å’Œè­¦å‘Š

#### ç”¨ä¾‹ 4: ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ˜ å°„

**ğŸ” é—®é¢˜åˆ†æï¼š**
åŸºäºå±æ€§åçš„æ™ºèƒ½æ¨æ–­éœ€è¦å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€çš„å®é™…ä½¿ç”¨æ¨¡å¼ï¼Œå½“å‰å·¥å…·ç¼ºä¹å¯¹ä»“é¢‰è¯­è¨€ç»„ä»¶å£°æ˜çš„æ·±å…¥ç†è§£ã€‚

**TypeScript è¾“å…¥:**
```typescript
// åŸºäºå±æ€§åçš„æ™ºèƒ½æ¨æ–­
interface SmartMapping {
  // å°ºå¯¸ç›¸å…³ - è‡ªåŠ¨æ¨æ–­ä¸º Length
  fontSize?: number;                  // å­—ä½“å¤§å°
  lineHeight?: number;                // è¡Œé«˜
  letterSpacing?: number;             // å­—é—´è·
  borderWidth?: number;               // è¾¹æ¡†å®½åº¦
  
  // æ¯”ä¾‹ç›¸å…³ - è‡ªåŠ¨æ¨æ–­ä¸º Float64
  opacity?: number;                   // é€æ˜åº¦
  scale?: number;                     // ç¼©æ”¾
  rotation?: number;                  // æ—‹è½¬
  progress?: number;                  // è¿›åº¦
  
  // è®¡æ•°ç›¸å…³ - è‡ªåŠ¨æ¨æ–­ä¸º Int32
  maxLines?: number;                  // æœ€å¤§è¡Œæ•°
  itemCount?: number;                 // é¡¹ç›®æ•°é‡
  selectedIndex?: number;             // é€‰ä¸­ç´¢å¼•
}
```

**âœ… æ”¹è¿›åçš„ Cangjie ä»£ç ï¼š**
```cangjie
public class SmartMapping {
  // å°ºå¯¸ç›¸å…³ - è‡ªåŠ¨æ¨æ–­ä¸º Lengthï¼ˆåŸºäºä»“é¢‰è¯­è¨€ç»„ä»¶å£°æ˜ï¼‰
  public var fontSize: Length = 16.fp          // å­—ä½“å¤§å°
  public var lineHeight: Length = 20.fp        // è¡Œé«˜
  public var letterSpacing: Length = 0.fp      // å­—é—´è·
  public var borderWidth: Length = 1.vp        // è¾¹æ¡†å®½åº¦
  
  // å¯é€‰å°ºå¯¸ç›¸å…³ - è‡ªåŠ¨æ¨æ–­ä¸º Option<Length>
  public var width: Option<Length> = None      // å¯é€‰å®½åº¦ï¼ˆåŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨ï¼‰
  public var height: Option<Length> = None     // å¯é€‰é«˜åº¦ï¼ˆåŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨ï¼‰
  
  // æ¯”ä¾‹ç›¸å…³ - è‡ªåŠ¨æ¨æ–­ä¸º Float64
  public var opacity: Float64 = 1.0            // é€æ˜åº¦
  public var scale: Float64 = 1.0              // ç¼©æ”¾
  public var rotation: Float64 = 0.0           // æ—‹è½¬
  public var progress: Float64 = 0.0           // è¿›åº¦
  
  // è®¡æ•°ç›¸å…³ - è‡ªåŠ¨æ¨æ–­ä¸º Int32
  public var maxLines: Int32 = 1               // æœ€å¤§è¡Œæ•°
  public var itemCount: Int32 = 0              // é¡¹ç›®æ•°é‡
  public var selectedIndex: Int32 = -1         // é€‰ä¸­ç´¢å¼•
  
  // æ—¶é—´æˆ³ç›¸å…³ - è‡ªåŠ¨æ¨æ–­ä¸º Int64
  public var timestamp: Int64 = 0              // æ—¶é—´æˆ³
  public var zIndex: Int64 = 0                 // å±‚çº§ç´¢å¼•
}
```

**ğŸ¯ ä¼˜åŒ–æ•ˆæœï¼š**
- âœ… **æ™ºèƒ½æ¨æ–­**: åŸºäºå±æ€§åè‡ªåŠ¨æ¨æ–­åˆé€‚çš„ç±»å‹
- âœ… **å®é™…åŒ¹é…**: åŸºäºä»“é¢‰è¯­è¨€ç»„ä»¶å£°æ˜çš„å®é™…ä½¿ç”¨æ¨¡å¼
- âœ… **å¯é€‰æ”¯æŒ**: è¯†åˆ«å¯é€‰å±æ€§å¹¶ä½¿ç”¨ `Option<T>` åŒ…è£…
- âœ… **ç±»å‹ç²¾ç¡®**: æ ¹æ®è¯­ä¹‰é€‰æ‹©æœ€åˆé€‚çš„ç±»å‹ï¼ˆ`Length`ã€`Float64`ã€`Int32`ã€`Int64`ï¼‰

**è½¬æ¢æ•ˆæœå¯¹æ¯”ï¼š**

| ç±»å‹åœºæ™¯ | TypeScript | å½“å‰ç”Ÿæˆ | æ”¹è¿›åç”Ÿæˆ | æ”¹è¿›æ•ˆæœ | è¯´æ˜ |
|----------|------------|----------|------------|----------|------|
| **å°ºå¯¸å±æ€§** | `number` | `Int64` | `Length` | âœ… è¯­ä¹‰åŒ– | åŸºäºä»“é¢‰è¯­è¨€ Length ç±»å‹ï¼Œæ”¯æŒå•ä½ |
| **å¯é€‰å°ºå¯¸å±æ€§** | `number` | `Int64` | `Option<Length>` | âœ… ç±»å‹å®‰å…¨ | æ”¯æŒå¯é€‰ç±»å‹ï¼ŒåŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨ |
| **æ¯”ä¾‹å±æ€§** | `number` | `Int64` | `Float64` | âœ… ç²¾åº¦æ­£ç¡® | åŸºäºä»“é¢‰è¯­è¨€ Float64 ç±»å‹ï¼Œé€‚åˆæµ®ç‚¹è®¡ç®— |
| **è®¡æ•°å±æ€§** | `number` | `Int64` | `Int32` | âœ… ç±»å‹åˆé€‚ | åŸºäºä»“é¢‰è¯­è¨€ Int32 ç±»å‹ï¼Œé€‚åˆè®¡æ•°åœºæ™¯ |
| **æ—¶é—´æˆ³å±æ€§** | `number` | `Int64` | `Int64` | âœ… ç±»å‹æ­£ç¡® | åŸºäºä»“é¢‰è¯­è¨€ Int64 ç±»å‹ï¼Œé€‚åˆå¤§æ•°å€¼ |
| **èµ„æºæ–‡æœ¬** | `string` | `String` | `ResourceStr` | âœ… è¯­ä¹‰åŒ– | åŸºäºä»“é¢‰è¯­è¨€ ResourceStr ç±»å‹ï¼Œæ”¯æŒæœ¬åœ°åŒ– |
| **æ™®é€šæ–‡æœ¬** | `string` | `String` | `String` | âœ… ç±»å‹æ­£ç¡® | åŒºåˆ†ä½¿ç”¨åœºæ™¯ï¼Œé¿å…ä¸å¿…è¦çš„èµ„æºç®¡ç† |
| **æ ·å¼é¢œè‰²** | `string` | `String` | `ResourceColor` | âœ… è¯­ä¹‰åŒ– | åŸºäºä»“é¢‰è¯­è¨€ ResourceColor ç±»å‹ï¼Œæ”¯æŒä¸»é¢˜ |
| **ä»»æ„ç±»å‹** | `any` | `Any` | `Option<Any>` | âœ… å®‰å…¨æ€§æå‡ | æ”¯æŒä»“é¢‰è¯­è¨€ Option ç±»å‹ï¼Œæä¾›ç±»å‹å®‰å…¨ |
| **ç©ºç±»å‹** | `void` | `Unit` | `Unit` | âœ… æ­£ç¡®æ˜ å°„ | åŸºäºä»“é¢‰è¯­è¨€ Unit ç±»å‹ï¼Œè¡¨ç¤ºç©ºå€¼ |

**ğŸ“Š æ•´ä½“æ”¹è¿›æ•ˆæœï¼š**
- **ç±»å‹å®‰å…¨æå‡**: 90% â†’ 98% (é€šè¿‡ Option<T> æ”¯æŒ)
- **è¯­ä¹‰å‡†ç¡®æ€§**: 60% â†’ 95% (åŸºäºä»“é¢‰è¯­è¨€ç‰¹æœ‰ç±»å‹)
- **ä»£ç å¯è¯»æ€§**: 70% â†’ 92% (è¯­ä¹‰åŒ–ç±»å‹å‘½å)
- **ç»´æŠ¤æ€§**: 65% â†’ 90% (ç±»å‹ç³»ç»Ÿä¸€è‡´æ€§)

</details>

### 2.1 æ™ºèƒ½ç±»å‹æ¨æ–­å®æ–½

**number ç±»å‹æ™ºèƒ½æ˜ å°„ï¼š**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹ä»£ç </summary>

```typescript
// æ–‡ä»¶ä½ç½®: arkgen/src/types/NumberTypeMapper.ts (æ–°å»ºæ–‡ä»¶)
// æˆ–æ·»åŠ åˆ° CJDeclarationConvertor.ts ä¸­çš„ç±»å‹è½¬æ¢éƒ¨åˆ†

/**
 * æ•°å­—ç±»å‹æ˜ å°„ä¸Šä¸‹æ–‡ä¿¡æ¯
 * ç”¨äºæ™ºèƒ½åˆ¤æ–­ TypeScript number ç±»å‹åº”è¯¥æ˜ å°„ä¸ºå“ªç§ Cangjie ç±»å‹
 */
interface NumberMappingContext {
  propertyName: string;                                  // å±æ€§åç§°ï¼Œç”¨äºè¯­ä¹‰åˆ†æ
  semanticHint: 'size' | 'optionalSize' | 'position' | 'count' | 'ratio' | 'angle' | 'timestamp'; // è¯­ä¹‰æç¤º
  range?: { min?: number; max?: number };               // æ•°å€¼èŒƒå›´ï¼ˆå¦‚æœå·²çŸ¥ï¼‰
  unit?: string;                                        // å•ä½ä¿¡æ¯ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
}

/**
 * æ™ºèƒ½æ˜ å°„ TypeScript number ç±»å‹åˆ° Cangjie ç±»å‹
 * åŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨æ¨¡å¼è¿›è¡Œç²¾ç¡®æ˜ å°„
 * @param context æ˜ å°„ä¸Šä¸‹æ–‡ä¿¡æ¯
 * @returns å¯¹åº”çš„ Cangjie ç±»å‹åç§°
 */
function mapNumberType(context: NumberMappingContext): string {
  // åœºæ™¯1: å¯é€‰å°ºå¯¸åœºæ™¯ - ä½¿ç”¨ Option<Length>ï¼ˆåŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨ï¼‰
  if (context.semanticHint === 'optionalSize' ||
      (context.propertyName === 'width' || context.propertyName === 'height')) {
    return 'Option<Length>';
  }
  
  // åœºæ™¯2: å°ºå¯¸ç›¸å…³åœºæ™¯ - ä½¿ç”¨ Length ç±»å‹
  if (context.semanticHint === 'size' ||
      context.propertyName.includes('width') ||         // å®½åº¦ç›¸å…³
      context.propertyName.includes('height') ||        // é«˜åº¦ç›¸å…³
      context.propertyName.includes('size') ||          // å°ºå¯¸ç›¸å…³
      context.propertyName.includes('margin') ||        // è¾¹è·ç›¸å…³
      context.propertyName.includes('padding') ||       // å†…è¾¹è·ç›¸å…³
      context.propertyName.includes('border') ||        // è¾¹æ¡†ç›¸å…³
      context.propertyName.includes('radius') ||        // åœ†è§’ç›¸å…³
      context.propertyName.includes('gap') ||           // é—´è·ç›¸å…³
      context.propertyName.includes('offset') ||        // åç§»ç›¸å…³
      context.propertyName.includes('fontSize') ||      // å­—ä½“å¤§å°
      context.propertyName.includes('lineHeight') ||    // è¡Œé«˜
      context.propertyName.includes('letterSpacing')) { // å­—é—´è·
    return 'Length';
  }
  
  // åœºæ™¯3: æ¯”ä¾‹å’Œè§’åº¦åœºæ™¯ - ä½¿ç”¨ Float64 ç±»å‹
  if (context.semanticHint === 'ratio' ||
      context.semanticHint === 'angle' ||
      context.propertyName.includes('opacity') ||       // é€æ˜åº¦ç›¸å…³
      context.propertyName.includes('scale') ||         // ç¼©æ”¾ç›¸å…³
      context.propertyName.includes('rotation') ||      // æ—‹è½¬ç›¸å…³
      context.propertyName.includes('progress') ||      // è¿›åº¦ç›¸å…³ (0-1 æˆ– 0-100)
      context.propertyName.includes('ratio') ||         // æ¯”ä¾‹ç›¸å…³
      context.propertyName.includes('factor') ||        // å› å­ç›¸å…³
      context.propertyName.includes('percent')) {       // ç™¾åˆ†æ¯”ç›¸å…³
    return 'Float64';
  }
  
  // åœºæ™¯4: è®¡æ•°å’Œç´¢å¼•åœºæ™¯ - ä½¿ç”¨ Int32 ç±»å‹
  if (context.semanticHint === 'count' ||
      context.propertyName.includes('count') ||         // åŒ…å« count çš„å±æ€§
      context.propertyName.includes('total') ||         // åŒ…å« total çš„å±æ€§
      context.propertyName.includes('num') ||           // åŒ…å« num çš„å±æ€§
      context.propertyName.includes('quantity') ||      // åŒ…å« quantity çš„å±æ€§
      context.propertyName.includes('maxLines') ||      // æœ€å¤§è¡Œæ•°
      context.propertyName.includes('itemCount') ||     // é¡¹ç›®æ•°é‡
      context.propertyName.includes('selectedIndex') || // é€‰ä¸­ç´¢å¼•
      context.propertyName.includes('duration')) {      // æŒç»­æ—¶é—´
    return 'Int32';
  }
  
  // åœºæ™¯5: æ—¶é—´æˆ³å’ŒIDåœºæ™¯ - ä½¿ç”¨ Int64 ç±»å‹
  if (context.semanticHint === 'timestamp' ||
      context.propertyName.includes('timestamp') ||     // æ—¶é—´æˆ³
      context.propertyName.includes('id') ||            // ID
      context.propertyName.includes('zIndex') ||        // å±‚çº§ç´¢å¼•
      context.propertyName.endsWith('Id') ||            // ä»¥ Id ç»“å°¾çš„å±æ€§
      context.propertyName.endsWith('Code')) {          // ä»¥ Code ç»“å°¾çš„å±æ€§
    return 'Int64';
  }
  
  // åœºæ™¯6: ä½ç½®ç›¸å…³åœºæ™¯ - ä½¿ç”¨ Int64 ç±»å‹
  if (context.semanticHint === 'position' ||
      context.propertyName.includes('index') ||         // åŒ…å« index çš„å±æ€§
      context.propertyName.includes('position') ||      // åŒ…å« position çš„å±æ€§
      context.propertyName.includes('top') ||           // é¡¶éƒ¨ä½ç½®
      context.propertyName.includes('left') ||          // å·¦ä¾§ä½ç½®
      context.propertyName.includes('right') ||         // å³ä¾§ä½ç½®
      context.propertyName.includes('bottom') ||        // åº•éƒ¨ä½ç½®
      context.propertyName.includes('x') ||             // X åæ ‡
      context.propertyName.includes('y') ||             // Y åæ ‡
      context.propertyName.includes('z')) {             // Z åæ ‡
    return 'Int64';
  }
  
  // é»˜è®¤åœºæ™¯: ä½¿ç”¨ Int64 ç±»å‹
  return 'Int64';
}

/**
 * ä»å±æ€§åå’Œç±»å‹ä¿¡æ¯ä¸­æå–è¯­ä¹‰æç¤º
 * åŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨æ¨¡å¼è¿›è¡Œè¯­ä¹‰åˆ†æ
 * @param propertyName å±æ€§åç§°
 * @param typeNode TypeScript ç±»å‹èŠ‚ç‚¹
 * @returns è¯­ä¹‰æç¤º
 */
function extractSemanticHint(
  propertyName: string, 
  typeNode: ts.TypeNode
): NumberMappingContext['semanticHint'] {
  // ä¼˜å…ˆæ£€æŸ¥å¯é€‰å°ºå¯¸å±æ€§ï¼ˆåŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨ï¼‰
  if (propertyName === 'width' || propertyName === 'height') {
    return 'optionalSize';
  }
  
  // æ ¹æ®å±æ€§åæ¨¡å¼åŒ¹é…è¯­ä¹‰ï¼ˆåŸºäºä»“é¢‰è¯­è¨€ç»„ä»¶å£°æ˜æ¨¡å¼ï¼‰
  const patterns = [
    // å°ºå¯¸ç›¸å…³å±æ€§
    { pattern: /(width|height|size|margin|padding|border|radius|gap|offset|spacing|fontSize|lineHeight|letterSpacing)/i, hint: 'size' as const },
    // ä½ç½®ç›¸å…³å±æ€§
    { pattern: /(top|left|right|bottom|x|y|z|position)/i, hint: 'position' as const },
    // è®¡æ•°ç›¸å…³å±æ€§
    { pattern: /(count|total|num|quantity|maxLines|itemCount|selectedIndex|duration)/i, hint: 'count' as const },
    // æ¯”ä¾‹ç›¸å…³å±æ€§
    { pattern: /(opacity|scale|progress|ratio|factor|percent)/i, hint: 'ratio' as const },
    // è§’åº¦ç›¸å…³å±æ€§
    { pattern: /(rotation|angle|rotate|degree)/i, hint: 'angle' as const },
    // æ—¶é—´æˆ³ç›¸å…³å±æ€§
    { pattern: /(timestamp|id|zIndex)/i, hint: 'timestamp' as const }
  ];
  
  // æŸ¥æ‰¾åŒ¹é…çš„æ¨¡å¼
  for (const { pattern, hint } of patterns) {
    if (pattern.test(propertyName)) {
      return hint;
    }
  }
  
  // é»˜è®¤è¿”å› countï¼ˆä¼šæ˜ å°„ä¸º Int32ï¼‰
  return 'count';
}

/**
 * åˆ›å»ºæ•°å­—ç±»å‹æ˜ å°„ä¸Šä¸‹æ–‡
 * @param propertyName å±æ€§åç§°
 * @param typeNode TypeScript ç±»å‹èŠ‚ç‚¹
 * @param jsDocTags JSDoc æ ‡ç­¾ï¼ˆå¯èƒ½åŒ…å«èŒƒå›´æˆ–å•ä½ä¿¡æ¯ï¼‰
 * @returns æ˜ å°„ä¸Šä¸‹æ–‡
 */
function createNumberMappingContext(
  propertyName: string,
  typeNode: ts.TypeNode,
  jsDocTags?: ts.JSDocTag[]
): NumberMappingContext {
  // æå–è¯­ä¹‰æç¤º
  const semanticHint = extractSemanticHint(propertyName, typeNode);
  
  // ä» JSDoc ä¸­æå–èŒƒå›´ä¿¡æ¯
  const range = extractRangeFromJSDoc(jsDocTags);
  
  // ä» JSDoc ä¸­æå–å•ä½ä¿¡æ¯
  const unit = extractUnitFromJSDoc(jsDocTags);
  
  return {
    propertyName,
    semanticHint,
    range,
    unit
  };
}

/**
 * ä» JSDoc æ ‡ç­¾ä¸­æå–æ•°å€¼èŒƒå›´ä¿¡æ¯
 * @param jsDocTags JSDoc æ ‡ç­¾æ•°ç»„
 * @returns æ•°å€¼èŒƒå›´æˆ– undefined
 */
function extractRangeFromJSDoc(jsDocTags?: ts.JSDocTag[]): { min?: number; max?: number } | undefined {
  if (!jsDocTags) return undefined;
  
  // æŸ¥æ‰¾åŒ…å«èŒƒå›´ä¿¡æ¯çš„æ ‡ç­¾
  for (const tag of jsDocTags) {
    const comment = tag.comment?.toString() || '';
    
    // åŒ¹é…ç±»ä¼¼ "@range 0-100" æˆ– "@param width å®½åº¦ (0-1000)" çš„æ¨¡å¼
    const rangeMatch = comment.match(/(\d+(?:\.\d+)?)\s*[-~åˆ°]\s*(\d+(?:\.\d+)?)/);
    if (rangeMatch) {
      return {
        min: parseFloat(rangeMatch[1]),
        max: parseFloat(rangeMatch[2])
      };
    }
  }
  
  return undefined;
}

/**
 * ä» JSDoc æ ‡ç­¾ä¸­æå–å•ä½ä¿¡æ¯
 * @param jsDocTags JSDoc æ ‡ç­¾æ•°ç»„
 * @returns å•ä½å­—ç¬¦ä¸²æˆ– undefined
 */
function extractUnitFromJSDoc(jsDocTags?: ts.JSDocTag[]): string | undefined {
  if (!jsDocTags) return undefined;
  
  // æŸ¥æ‰¾åŒ…å«å•ä½ä¿¡æ¯çš„æ ‡ç­¾
  for (const tag of jsDocTags) {
    const comment = tag.comment?.toString() || '';
    
    // åŒ¹é…å¸¸è§å•ä½
    const unitMatch = comment.match(/\b(px|vp|fp|lpx|%|deg|rad)\b/i);
    if (unitMatch) {
      return unitMatch[1].toLowerCase();
    }
  }
  
  return undefined;
}

// åœ¨ convertType() å‡½æ•°ä¸­çš„ä½¿ç”¨ç¤ºä¾‹ï¼š
// æ–‡ä»¶ä½ç½®: arkgen/src/declaration/CJDeclarationConvertor.ts
// ä¿®æ”¹ä½ç½®: convertType() å‡½æ•°å†…éƒ¨ï¼Œçº¦ç¬¬ 200-250 è¡Œ

/**
 * æ™ºèƒ½è½¬æ¢ number ç±»å‹
 * æ›¿æ¢åŸæœ‰çš„ç®€å• number -> Number æ˜ å°„
 */
function convertNumberType(
  propertyName: string,
  typeNode: ts.TypeNode,
  jsDocTags?: ts.JSDocTag[]
): string {
  // åˆ›å»ºæ˜ å°„ä¸Šä¸‹æ–‡
  const context = createNumberMappingContext(propertyName, typeNode, jsDocTags);
  
  // æ‰§è¡Œæ™ºèƒ½æ˜ å°„
  const mappedType = mapNumberType(context);
  
  // è®°å½•æ˜ å°„å†³ç­–ï¼ˆç”¨äºè°ƒè¯•å’Œä¼˜åŒ–ï¼‰
  console.debug(`Number type mapping: ${propertyName} -> ${mappedType} (hint: ${context.semanticHint})`);
  
  return mappedType;
}
```

</details>

**å®æ–½ç¤ºä¾‹ï¼š**
<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ TypeScript ä»£ç </summary>

```typescript
// ä½¿ç”¨ç¤ºä¾‹
const mappings = [
  { prop: 'width', hint: 'size' },        // â†’ Length
  { prop: 'opacity', hint: 'ratio' },     // â†’ Float64  
  { prop: 'tabIndex', hint: 'count' },    // â†’ Int64
  { prop: 'rotation', hint: 'angle' }     // â†’ Float64
];
```

</details>

### 2.2 è¯­ä¹‰åŒ–ç±»å‹ç”Ÿæˆå®æ–½

**æ¨¡æ¿å­—ç¬¦ä¸²å•ä½è§£æå™¨ï¼š**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹ä»£ç </summary>

```typescript
// æ–‡ä»¶ä½ç½®: arkgen/src/parsers/TemplateUnitParser.ts (æ–°å»ºæ–‡ä»¶)

/**
 * æ¨¡æ¿å­—ç¬¦ä¸²å•ä½è§£æå™¨
 * è´Ÿè´£è§£æ TypeScript æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹ï¼ˆå¦‚ `${number}px`ï¼‰å¹¶è½¬æ¢ä¸ºå¯¹åº”çš„ Cangjie ç±»å‹
 */
class TemplateUnitParser {
  // æ”¯æŒçš„å•ä½æ¨¡å¼æ­£åˆ™è¡¨è¾¾å¼æ˜ å°„è¡¨
  private readonly UNIT_PATTERNS = {
    // åƒç´ å•ä½ï¼ˆç‰©ç†åƒç´ ï¼‰
    px: /^\`?\$\{number\}px\`?$/,
    // è§†å£å•ä½ï¼ˆè™šæ‹Ÿåƒç´ ï¼Œä¸è®¾å¤‡æ— å…³ï¼‰
    vp: /^\`?\$\{number\}vp\`?$/,
    // å­—ä½“åƒç´ ï¼ˆéšç³»ç»Ÿå­—ä½“å¤§å°ç¼©æ”¾ï¼‰
    fp: /^\`?\$\{number\}fp\`?$/,
    // é€»è¾‘åƒç´ ï¼ˆç”¨äºç»å¯¹å®šä½ï¼‰
    lpx: /^\`?\$\{number\}lpx\`?$/,
    // ç™¾åˆ†æ¯”å•ä½
    percent: /^\`?\$\{number\}%\`?$/,
    // è§’åº¦å•ä½
    degree: /^\`?\$\{number\}deg\`?$/,
    // å¼§åº¦å•ä½ï¼ˆè¾ƒå°‘ä½¿ç”¨ï¼Œä½†éœ€è¦æ”¯æŒï¼‰
    radian: /^\`?\$\{number\}rad\`?$/,
    // æ—¶é—´å•ä½ï¼ˆç”¨äºåŠ¨ç”»ï¼‰
    millisecond: /^\`?\$\{number\}ms\`?$/,
    second: /^\`?\$\{number\}s\`?$/
  };
  
  /**
   * è§£ææ¨¡æ¿å­—ç¬¦ä¸²å•ä½ç±»å‹
   * @param typeStr æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦‚ "`${number}px`"
   * @returns è§£æç»“æœï¼ŒåŒ…å«å•ä½å’Œå¯¹åº”çš„åŸºç¡€ç±»å‹
   */
  parseTemplateUnit(typeStr: string): { unit: string; baseType: string } | null {
    // æ¸…ç†è¾“å…¥å­—ç¬¦ä¸²ï¼Œç§»é™¤å¤šä½™çš„ç©ºæ ¼å’Œå¼•å·
    const cleanTypeStr = typeStr.trim().replace(/['"]/g, '`');
    
    // éå†æ‰€æœ‰æ”¯æŒçš„å•ä½æ¨¡å¼
    for (const [unit, pattern] of Object.entries(this.UNIT_PATTERNS)) {
      if (pattern.test(cleanTypeStr)) {
        return {
          unit,                                  // è§£æå‡ºçš„å•ä½åç§°
          baseType: this.getBaseTypeForUnit(unit) // å¯¹åº”çš„ Cangjie ç±»å‹
        };
      }
    }
    
    // å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•æ¨¡å¼ï¼Œè¿”å› null
    return null;
  }
  
  /**
   * æ ¹æ®å•ä½è·å–å¯¹åº”çš„ Cangjie åŸºç¡€ç±»å‹
   * @param unit å•ä½åç§°
   * @returns å¯¹åº”çš„ Cangjie ç±»å‹åç§°
   */
  private getBaseTypeForUnit(unit: string): string {
    // å•ä½åˆ° Cangjie ç±»å‹çš„æ˜ å°„è¡¨ï¼ˆç»Ÿä¸€ä½¿ç”¨Cangjieæ ‡å‡†ç±»å‹ï¼‰
    const unitMapping: Record<string, string> = {
      // é•¿åº¦ç›¸å…³å•ä½ - ç»Ÿä¸€ä½¿ç”¨ Length ç±»å‹
      px: 'Length',           // ç‰©ç†åƒç´ é•¿åº¦ç±»å‹
      vp: 'Length',           // è§†å£åƒç´ é•¿åº¦ç±»å‹
      fp: 'Length',           // å­—ä½“åƒç´ é•¿åº¦ç±»å‹
      lpx: 'Length',          // é€»è¾‘åƒç´ é•¿åº¦ç±»å‹
      percent: 'Length',      // ç™¾åˆ†æ¯”é•¿åº¦ç±»å‹
      
      // è§’åº¦ç›¸å…³å•ä½ - ä½¿ç”¨ Angle ç±»å‹
      degree: 'Angle',        // è§’åº¦ç±»å‹ï¼ˆåº¦ï¼‰
      radian: 'Angle',        // è§’åº¦ç±»å‹ï¼ˆå¼§åº¦ï¼‰
      
      // æ—¶é—´ç›¸å…³å•ä½ - ä½¿ç”¨ Duration ç±»å‹
      millisecond: 'Duration',  // æŒç»­æ—¶é—´ç±»å‹ï¼ˆæ¯«ç§’ï¼‰
      second: 'Duration'        // æŒç»­æ—¶é—´ç±»å‹ï¼ˆç§’ï¼‰
    };
    
    // è¿”å›æ˜ å°„çš„ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™ä½¿ç”¨é»˜è®¤çš„ Int64
    return unitMapping[unit] || 'Int64';
  }
  
  /**
   * ç”Ÿæˆç±»å‹åˆ«åå®šä¹‰
   * @param unit å•ä½åç§°
   * @returns ç±»å‹åˆ«åå®šä¹‰å­—ç¬¦ä¸²
   */
  generateTypeAlias(unit: string): string {
    const typeName = this.getBaseTypeForUnit(unit);
    const unitComment = this.getUnitComment(unit);
    
    // ç”Ÿæˆå¸¦æ³¨é‡Šçš„ç±»å‹åˆ«åå®šä¹‰ï¼ˆä½¿ç”¨Cangjieæ ‡å‡†ç±»å‹ï¼‰
    return `// ${typeName} - \`\${number}${unit}\` - ${unitComment}`;
  }
  
  /**
   * è·å–å•ä½çš„æ³¨é‡Šè¯´æ˜
   * @param unit å•ä½åç§°
   * @returns å•ä½çš„ä¸­æ–‡è¯´æ˜
   */
  private getUnitComment(unit: string): string {
    const commentMapping: Record<string, string> = {
      px: 'ç‰©ç†åƒç´ ï¼Œå¯¹åº”å±å¹•å®é™…åƒç´ ',
      vp: 'è§†å£åƒç´ ï¼Œä¸è®¾å¤‡æ— å…³çš„è™šæ‹Ÿåƒç´ ',
      fp: 'å­—ä½“åƒç´ ï¼Œéšç³»ç»Ÿå­—ä½“å¤§å°ç¼©æ”¾',
      lpx: 'é€»è¾‘åƒç´ ï¼Œç”¨äºç»å¯¹å®šä½',
      percent: 'ç™¾åˆ†æ¯”å€¼ï¼Œç›¸å¯¹äºçˆ¶å®¹å™¨',
      degree: 'è§’åº¦å€¼ï¼Œ0-360åº¦',
      radian: 'å¼§åº¦å€¼ï¼Œ0-2Ï€',
      millisecond: 'æ¯«ç§’æ—¶é—´å€¼',
      second: 'ç§’æ—¶é—´å€¼'
    };
    
    return commentMapping[unit] || 'æ•°å€¼å•ä½';
  }
  
  /**
   * ç”Ÿæˆæ‰€æœ‰æ”¯æŒå•ä½çš„ç±»å‹åˆ«å
   * @returns ç±»å‹åˆ«åå®šä¹‰æ•°ç»„
   */
  generateAllTypeAliases(): string[] {
    const aliases: string[] = [];
    
    // æ·»åŠ å¤´éƒ¨æ³¨é‡Š
    aliases.push('// =====================================================');
    aliases.push('// æ¨¡æ¿å­—ç¬¦ä¸²å•ä½ç±»å‹åˆ«åå®šä¹‰');
    aliases.push('// ç”¨äºæ”¯æŒ TypeScript æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹çš„è½¬æ¢');
    aliases.push('// =====================================================');
    aliases.push('');
    
    // æŒ‰åˆ†ç±»ç”Ÿæˆç±»å‹åˆ«å
    aliases.push('// é•¿åº¦å•ä½ç±»å‹');
    const lengthUnits = ['px', 'vp', 'fp', 'lpx', 'percent'];
    lengthUnits.forEach(unit => {
      aliases.push(this.generateTypeAlias(unit));
    });
    
    aliases.push('');
    aliases.push('// è§’åº¦å•ä½ç±»å‹');
    const angleUnits = ['degree', 'radian'];
    angleUnits.forEach(unit => {
      aliases.push(this.generateTypeAlias(unit));
    });
    
    aliases.push('');
    aliases.push('// æ—¶é—´å•ä½ç±»å‹');
    const timeUnits = ['millisecond', 'second'];
    timeUnits.forEach(unit => {
      aliases.push(this.generateTypeAlias(unit));
    });
    
    return aliases;
  }
  
  /**
   * æ£€æŸ¥æ˜¯å¦ä¸ºæ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹
   * @param typeStr ç±»å‹å­—ç¬¦ä¸²
   * @returns æ˜¯å¦ä¸ºæ”¯æŒçš„æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹
   */
  isTemplateStringType(typeStr: string): boolean {
    return this.parseTemplateUnit(typeStr) !== null;
  }
  
  /**
   * è·å–æ”¯æŒçš„æ‰€æœ‰å•ä½åˆ—è¡¨
   * @returns æ”¯æŒçš„å•ä½åç§°æ•°ç»„
   */
  getSupportedUnits(): string[] {
    return Object.keys(this.UNIT_PATTERNS);
  }
  
  /**
   * ç”Ÿæˆå•ä½è½¬æ¢å·¥å…·å‡½æ•°
   * @returns è½¬æ¢å·¥å…·å‡½æ•°çš„ä»£ç 
   */
  generateConversionUtilities(): string[] {
    const utilities: string[] = [];
    
    utilities.push('// å•ä½è½¬æ¢å·¥å…·å‡½æ•°ï¼ˆä½¿ç”¨Cangjieæ ‡å‡†ç±»å‹ï¼‰');
    utilities.push('public class LengthUtils {');
    utilities.push('  /**');
    utilities.push('   * åˆ›å»ºåƒç´ é•¿åº¦å€¼');
    utilities.push('   * @param value æ•°å€¼');
    utilities.push('   * @returns Length ç±»å‹å€¼');
    utilities.push('   */');
    utilities.push('  public static func px(value: Int64): Length {');
    utilities.push('    return value.vp');
    utilities.push('  }');
    utilities.push('');
    utilities.push('  /**');
    utilities.push('   * åˆ›å»ºè§†å£åƒç´ é•¿åº¦å€¼');
    utilities.push('   * @param value æ•°å€¼');
    utilities.push('   * @returns Length ç±»å‹å€¼');
    utilities.push('   */');
    utilities.push('  public static func vp(value: Int64): Length {');
    utilities.push('    return value.vp');
    utilities.push('  }');
    utilities.push('');
    utilities.push('  /**');
    utilities.push('   * åˆ›å»ºå­—ä½“åƒç´ é•¿åº¦å€¼');
    utilities.push('   * @param value æ•°å€¼');
    utilities.push('   * @returns Length ç±»å‹å€¼');
    utilities.push('   */');
    utilities.push('  public static func fp(value: Int64): Length {');
    utilities.push('    return value.fp');
    utilities.push('  }');
    utilities.push('');
    utilities.push('  /**');
    utilities.push('   * åˆ›å»ºç™¾åˆ†æ¯”é•¿åº¦å€¼');
    utilities.push('   * @param value æ•°å€¼ (0-100)');
    utilities.push('   * @returns Length ç±»å‹å€¼');
    utilities.push('   */');
    utilities.push('  public static func percent(value: Int64): Length {');
    utilities.push('    return value.%');
    utilities.push('  }');
    utilities.push('}');
    
    return utilities;
  }
}

// ä½¿ç”¨ç¤ºä¾‹ï¼š
// æ–‡ä»¶ä½ç½®: arkgen/src/declaration/CJDeclarationConvertor.ts
// åœ¨ convertType() å‡½æ•°ä¸­ä½¿ç”¨

/**
 * åœ¨ç±»å‹è½¬æ¢ä¸­é›†æˆæ¨¡æ¿å•ä½è§£æå™¨
 */
class EnhancedTypeConverter {
  private templateParser = new TemplateUnitParser();
  
  /**
   * è½¬æ¢ TypeScript ç±»å‹åˆ° Cangjie ç±»å‹
   * @param typeNode TypeScript ç±»å‹èŠ‚ç‚¹
   * @returns Cangjie ç±»å‹å­—ç¬¦ä¸²
   */
  convertType(typeNode: ts.TypeNode): string {
    // å¦‚æœæ˜¯å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ï¼Œæ£€æŸ¥æ˜¯å¦ä¸ºæ¨¡æ¿å­—ç¬¦ä¸²
    if (ts.isLiteralTypeNode(typeNode) && ts.isStringLiteral(typeNode.literal)) {
      const literalValue = typeNode.literal.text;
      
      // å°è¯•è§£ææ¨¡æ¿å­—ç¬¦ä¸²å•ä½
      const templateResult = this.templateParser.parseTemplateUnit(literalValue);
      if (templateResult) {
        // è®°å½•è½¬æ¢ä¿¡æ¯
        console.debug(`Template unit conversion: ${literalValue} -> ${templateResult.baseType}`);
        return templateResult.baseType;
      }
    }
    
    // å…¶ä»–ç±»å‹è½¬æ¢é€»è¾‘...
    return this.convertOtherTypes(typeNode);
  }
  
  /**
   * ç”Ÿæˆæ¨¡æ¿å•ä½ç±»å‹å®šä¹‰
   * åœ¨ç”Ÿæˆ Cangjie æ–‡ä»¶æ—¶è°ƒç”¨
   */
  generateTemplateUnitDefinitions(): string[] {
    return this.templateParser.generateAllTypeAliases();
  }
}
```

</details>

### 2.3 ç‰¹æ®Šç±»å‹å¤„ç†å®æ–½

**ç±»å‹å®‰å…¨è½¬æ¢ç­–ç•¥ï¼š**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ SpecialTypeConverter ç±»å®ç°ä»£ç </summary>

```typescript
class SpecialTypeConverter {
  convertSpecialType(tsType: string): { cjType: string; warning?: string } {
    switch (tsType) {
      case 'any':
        return { cjType: 'Any' };
        
      case 'unknown':
        return { 
          cjType: 'Any', 
          warning: 'ä½¿ç”¨æ—¶éœ€è¦è¿›è¡Œç±»å‹æ£€æŸ¥æˆ–æ¨¡å¼åŒ¹é…' 
        };
        
      case 'never':
        return { cjType: 'Unit' };
        
      case 'symbol':
      case 'unique symbol':
        return { 
          cjType: 'Int64',
          warning: 'å”¯ä¸€æ€§è¯­ä¹‰ä¸¢å¤±ï¼Œè€ƒè™‘ä½¿ç”¨æšä¸¾æ›¿ä»£'
        };
        
      case 'object':
        return { cjType: 'HashMap<String, Any>' };
        
      default:
        return { cjType: 'Any' };
    }
  }
}
```

### 2.2 å­—ç¬¦ä¸²ç±»å‹è¯­ä¹‰åŒ–æ˜ å°„å®æ–½

**åŸºäºä»“é¢‰è¯­è¨€ç‰¹æœ‰ç±»å‹çš„å­—ç¬¦ä¸²æ˜ å°„ï¼š**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹ä»£ç </summary>

```typescript
// æ–‡ä»¶ä½ç½®: arkgen/src/types/StringTypeMapper.ts (æ–°å»ºæ–‡ä»¶)

/**
 * å­—ç¬¦ä¸²ç±»å‹æ˜ å°„å™¨
 * åŸºäºä»“é¢‰è¯­è¨€ç‰¹æœ‰ç±»å‹ç³»ç»Ÿè¿›è¡Œç²¾ç¡®æ˜ å°„
 */
class StringTypeMapper {
  // è¯­ä¹‰æ¨¡å¼æ˜ å°„è¡¨ï¼ˆåŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨ï¼‰
  private readonly SEMANTIC_PATTERNS = {
    // ResourceStr: ç”¨äºéœ€è¦æœ¬åœ°åŒ–æˆ–èµ„æºç®¡ç†çš„å­—ç¬¦ä¸²
    resourceStr: /(content|text|label|title|placeholder|hint|name|src|source|path|url|icon|image)/i,
    // String: ç”¨äºæ™®é€šå­—ç¬¦ä¸²ï¼ˆé”™è¯¯æ¶ˆæ¯ã€è°ƒè¯•ä¿¡æ¯ç­‰ï¼‰
    plainString: /(message|error|debug|log|description|comment|reason)/i,
    // ResourceColor: ç”¨äºæ ·å¼é¢œè‰²å±æ€§
    resourceColor: /(color|background|border|fill|stroke|tint)/i
  };

  /**
   * æ˜ å°„å­—ç¬¦ä¸²ç±»å‹
   * åŸºäºä»“é¢‰è¯­è¨€ç‰¹æœ‰ç±»å‹ç³»ç»Ÿè¿›è¡Œç²¾ç¡®æ˜ å°„
   * @param propertyName å±æ€§åç§°
   * @returns æ˜ å°„ç»“æœï¼ŒåŒ…å«ç±»å‹å’Œé»˜è®¤å€¼
   */
  mapStringType(propertyName: string): { type: string; defaultValue: string } {
    // ä¼˜å…ˆæ£€æŸ¥é¢œè‰²å±æ€§ï¼ˆResourceColorï¼‰
    if (this.SEMANTIC_PATTERNS.resourceColor.test(propertyName)) {
      return { type: 'ResourceColor', defaultValue: 'Color.Black' };
    }
    
    // æ£€æŸ¥æ™®é€šå­—ç¬¦ä¸²ï¼ˆStringï¼‰
    if (this.SEMANTIC_PATTERNS.plainString.test(propertyName)) {
      return { type: 'String', defaultValue: '""' };
    }
    
    // æ£€æŸ¥èµ„æºå­—ç¬¦ä¸²ï¼ˆResourceStrï¼‰
    if (this.SEMANTIC_PATTERNS.resourceStr.test(propertyName)) {
      return { type: 'ResourceStr', defaultValue: '""' };
    }
    
    // é»˜è®¤è¿”å›èµ„æºå­—ç¬¦ä¸²
    return { type: 'ResourceStr', defaultValue: '""' };
  }

  /**
   * è·å–è¯­ä¹‰æ¨¡å¼è¯´æ˜
   * @param propertyName å±æ€§åç§°
   * @returns è¯­ä¹‰è¯´æ˜
   */
  getSemanticDescription(propertyName: string): string {
    if (this.SEMANTIC_PATTERNS.resourceColor.test(propertyName)) {
      return 'æ ·å¼é¢œè‰²å±æ€§ï¼Œä½¿ç”¨ ResourceColor ç±»å‹';
    }
    
    if (this.SEMANTIC_PATTERNS.plainString.test(propertyName)) {
      return 'æ™®é€šå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ String ç±»å‹';
    }
    
    if (this.SEMANTIC_PATTERNS.resourceStr.test(propertyName)) {
      return 'èµ„æºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ ResourceStr ç±»å‹';
    }
    
    return 'é»˜è®¤èµ„æºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ ResourceStr ç±»å‹';
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const stringMapper = new StringTypeMapper();

// æµ‹è¯•ç”¨ä¾‹
const testCases = [
  { prop: 'content', expected: 'ResourceStr' },
  { prop: 'errorMessage', expected: 'String' },
  { prop: 'backgroundColor', expected: 'ResourceColor' },
  { prop: 'imageSrc', expected: 'ResourceStr' },
  { prop: 'debugInfo', expected: 'String' }
];

testCases.forEach(({ prop, expected }) => {
  const result = stringMapper.mapStringType(prop);
  console.log(`${prop} -> ${result.type} (${stringMapper.getSemanticDescription(prop)})`);
});
```

</details>

### 2.3 æ¨¡æ¿å­—ç¬¦ä¸²è§£æç³»ç»Ÿ

**åŸºäºä»“é¢‰è¯­è¨€å•ä½ç³»ç»Ÿçš„æ¨¡æ¿å­—ç¬¦ä¸²è§£æï¼š**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹ä»£ç </summary>

```typescript
// æ–‡ä»¶ä½ç½®: arkgen/src/parsers/TemplateUnitParser.ts (æ–°å»ºæ–‡ä»¶)

/**
 * æ¨¡æ¿å­—ç¬¦ä¸²å•ä½è§£æå™¨
 * åŸºäºä»“é¢‰è¯­è¨€å•ä½ç³»ç»Ÿè¿›è¡Œè§£æ
 * è´Ÿè´£è§£æ TypeScript æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹ï¼ˆå¦‚ `${number}px`ï¼‰å¹¶è½¬æ¢ä¸ºå¯¹åº”çš„ Cangjie ç±»å‹
 */
class TemplateUnitParser {
  // æ”¯æŒçš„å•ä½æ¨¡å¼æ­£åˆ™è¡¨è¾¾å¼æ˜ å°„è¡¨
  private readonly UNIT_PATTERNS = {
    // é•¿åº¦å•ä½ï¼ˆç»Ÿä¸€æ˜ å°„ä¸º Lengthï¼‰
    px: /^\`?\$\{number\}px\`?$/,      // ç‰©ç†åƒç´ 
    vp: /^\`?\$\{number\}vp\`?$/,      // è§†å£åƒç´ 
    fp: /^\`?\$\{number\}fp\`?$/,      // å­—ä½“åƒç´ 
    lpx: /^\`?\$\{number\}lpx\`?$/,    // é€»è¾‘åƒç´ 
    percent: /^\`?\$\{number\}%\`?$/,  // ç™¾åˆ†æ¯”
    // è§’åº¦å•ä½ï¼ˆæ˜ å°„ä¸º Float64ï¼‰
    degree: /^\`?\$\{number\}deg\`?$/, // è§’åº¦
    radian: /^\`?\$\{number\}rad\`?$/, // å¼§åº¦
    // æ—¶é—´å•ä½ï¼ˆæ˜ å°„ä¸º Int32ï¼‰
    millisecond: /^\`?\$\{number\}ms\`?$/, // æ¯«ç§’
    second: /^\`?\$\{number\}s\`?$/     // ç§’
  };
  
  /**
   * è§£ææ¨¡æ¿å­—ç¬¦ä¸²å•ä½ç±»å‹
   * @param typeStr æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦‚ "`${number}px`"
   * @returns è§£æç»“æœï¼ŒåŒ…å«å•ä½å’Œå¯¹åº”çš„åŸºç¡€ç±»å‹
   */
  parseTemplateUnit(typeStr: string): { unit: string; baseType: string } | null {
    // æ¸…ç†è¾“å…¥å­—ç¬¦ä¸²ï¼Œç§»é™¤å¤šä½™çš„ç©ºæ ¼å’Œå¼•å·
    const cleanTypeStr = typeStr.trim().replace(/['"]/g, '`');
    
    // éå†æ‰€æœ‰æ”¯æŒçš„å•ä½æ¨¡å¼
    for (const [unit, pattern] of Object.entries(this.UNIT_PATTERNS)) {
      if (pattern.test(cleanTypeStr)) {
        return {
          unit,                                  // è§£æå‡ºçš„å•ä½åç§°
          baseType: this.getBaseTypeForUnit(unit) // å¯¹åº”çš„ Cangjie ç±»å‹
        };
      }
    }
    
    // å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•æ¨¡å¼ï¼Œè¿”å› null
    return null;
  }
  
  /**
   * æ ¹æ®å•ä½è·å–å¯¹åº”çš„ Cangjie åŸºç¡€ç±»å‹
   * åŸºäºä»“é¢‰è¯­è¨€å®é™…ç±»å‹ç³»ç»Ÿ
   * @param unit å•ä½åç§°
   * @returns å¯¹åº”çš„ Cangjie ç±»å‹åç§°
   */
  private getBaseTypeForUnit(unit: string): string {
    // å•ä½åˆ° Cangjie ç±»å‹çš„æ˜ å°„è¡¨ï¼ˆåŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨ï¼‰
    const unitMapping: Record<string, string> = {
      // é•¿åº¦ç›¸å…³å•ä½ - ç»Ÿä¸€ä½¿ç”¨ Length ç±»å‹
      px: 'Length',           // ç‰©ç†åƒç´ é•¿åº¦
      vp: 'Length',           // è§†å£åƒç´ é•¿åº¦
      fp: 'Length',           // å­—ä½“åƒç´ é•¿åº¦
      lpx: 'Length',          // é€»è¾‘åƒç´ é•¿åº¦
      percent: 'Length',      // ç™¾åˆ†æ¯”é•¿åº¦
      
      // è§’åº¦ç›¸å…³å•ä½ - ä½¿ç”¨ Float64 ç±»å‹
      degree: 'Float64',      // è§’åº¦å€¼
      radian: 'Float64',      // å¼§åº¦å€¼
      
      // æ—¶é—´ç›¸å…³å•ä½ - ä½¿ç”¨ Int32 ç±»å‹
      millisecond: 'Int32',   // æ¯«ç§’æ—¶é—´
      second: 'Int32'         // ç§’æ—¶é—´
    };
    
    // è¿”å›æ˜ å°„çš„ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™ä½¿ç”¨é»˜è®¤çš„ Int64
    return unitMapping[unit] || 'Int64';
  }
  
  /**
   * è·å–å•ä½çš„æ³¨é‡Šè¯´æ˜
   * @param unit å•ä½åç§°
   * @returns å•ä½çš„ä¸­æ–‡è¯´æ˜
   */
  private getUnitComment(unit: string): string {
    const commentMapping: Record<string, string> = {
      px: 'ç‰©ç†åƒç´ ï¼Œå¯¹åº”å±å¹•å®é™…åƒç´ ',
      vp: 'è§†å£åƒç´ ï¼Œä¸è®¾å¤‡æ— å…³çš„è™šæ‹Ÿåƒç´ ',
      fp: 'å­—ä½“åƒç´ ï¼Œéšç³»ç»Ÿå­—ä½“å¤§å°ç¼©æ”¾',
      lpx: 'é€»è¾‘åƒç´ ï¼Œç”¨äºç»å¯¹å®šä½',
      percent: 'ç™¾åˆ†æ¯”å€¼ï¼Œç›¸å¯¹äºçˆ¶å®¹å™¨',
      degree: 'è§’åº¦å€¼ï¼Œ0-360åº¦',
      radian: 'å¼§åº¦å€¼ï¼Œ0-2Ï€',
      millisecond: 'æ¯«ç§’æ—¶é—´å€¼',
      second: 'ç§’æ—¶é—´å€¼'
    };
    
    return commentMapping[unit] || 'æ•°å€¼å•ä½';
  }
  
  /**
   * æ£€æŸ¥æ˜¯å¦ä¸ºæ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹
   * @param typeStr ç±»å‹å­—ç¬¦ä¸²
   * @returns æ˜¯å¦ä¸ºæ”¯æŒçš„æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹
   */
  isTemplateStringType(typeStr: string): boolean {
    return this.parseTemplateUnit(typeStr) !== null;
  }
  
  /**
   * è·å–æ”¯æŒçš„æ‰€æœ‰å•ä½åˆ—è¡¨
   * @returns æ”¯æŒçš„å•ä½åç§°æ•°ç»„
   */
  getSupportedUnits(): string[] {
    return Object.keys(this.UNIT_PATTERNS);
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const templateParser = new TemplateUnitParser();

// æµ‹è¯•ç”¨ä¾‹
const templateTestCases = [
  '`${number}px`',
  '`${number}vp`',
  '`${number}fp`',
  '`${number}%`',
  '`${number}deg`',
  '`${number}ms`'
];

templateTestCases.forEach(typeStr => {
  const result = templateParser.parseTemplateUnit(typeStr);
  if (result) {
    console.log(`${typeStr} -> ${result.baseType} (${result.unit})`);
  }
});
```

</details>

### 2.4 ç‰¹æ®Šç±»å‹å¤„ç†ç³»ç»Ÿ

**åŸºäºä»“é¢‰è¯­è¨€ç±»å‹ç³»ç»Ÿçš„ç‰¹æ®Šç±»å‹å¤„ç†ï¼š**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ SpecialTypeConverter ç±»å®ç°ä»£ç </summary>

```typescript
// æ–‡ä»¶ä½ç½®: arkgen/src/types/SpecialTypeMapper.ts (æ–°å»ºæ–‡ä»¶)

/**
 * ç‰¹æ®Šç±»å‹è½¬æ¢å™¨
 * åŸºäºä»“é¢‰è¯­è¨€ç±»å‹ç³»ç»Ÿè¿›è¡Œå®‰å…¨è½¬æ¢
 */
class SpecialTypeConverter {
  /**
   * è½¬æ¢ç‰¹æ®Šç±»å‹
   * å……åˆ†åˆ©ç”¨ä»“é¢‰è¯­è¨€çš„ Option ç±»å‹ç³»ç»Ÿ
   * @param tsType TypeScript ç‰¹æ®Šç±»å‹
   * @returns è½¬æ¢ç»“æœï¼ŒåŒ…å«ç±»å‹ã€é»˜è®¤å€¼å’Œè­¦å‘Šä¿¡æ¯
   */
  convertSpecialType(tsType: string): { 
    cjType: string; 
    defaultValue: string;
    warning?: string;
    safety: 'safe' | 'warning' | 'unsafe';
  } {
    // ç‰¹æ®Šç±»å‹æ˜ å°„è¡¨ï¼ˆåŸºäºä»“é¢‰è¯­è¨€ç±»å‹ç³»ç»Ÿï¼‰
    const mappings = {
      // ä»»æ„ç±»å‹ - ä½¿ç”¨ Option<Any> æä¾›ç±»å‹å®‰å…¨
      any: { 
        type: 'Option<Any>', 
        default: 'None', 
        safety: 'safe',
        description: 'å¯é€‰ä»»æ„ç±»å‹ï¼Œæä¾›ç±»å‹å®‰å…¨'
      },
      
      // æœªçŸ¥ç±»å‹ - ä½¿ç”¨ Option<Any> éœ€è¦ç±»å‹æ£€æŸ¥
      unknown: { 
        type: 'Option<Any>', 
        default: 'None', 
        warning: 'ä½¿ç”¨æ—¶éœ€è¦è¿›è¡Œç±»å‹æ£€æŸ¥æˆ–æ¨¡å¼åŒ¹é…',
        safety: 'warning',
        description: 'å¯é€‰ä»»æ„ç±»å‹ï¼Œéœ€è¦è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥'
      },
      
      // æ°¸ä¸ç±»å‹ - æ˜ å°„ä¸ºç©ºç±»å‹
      never: { 
        type: 'Unit', 
        default: 'Unit', 
        safety: 'safe',
        description: 'æ°¸ä¸ç±»å‹æ˜ å°„ä¸ºç©ºç±»å‹'
      },
      
      // ç©ºç±»å‹ - æ˜ å°„ä¸ºç©ºç±»å‹
      void: { 
        type: 'Unit', 
        default: 'Unit', 
        safety: 'safe',
        description: 'ç©ºç±»å‹æ˜ å°„ä¸ºç©ºç±»å‹'
      },
      
      // ç©ºå€¼ç±»å‹ - ä½¿ç”¨ Option<Any>
      null: { 
        type: 'Option<Any>', 
        default: 'None', 
        safety: 'safe',
        description: 'ç©ºå€¼ç±»å‹æ˜ å°„ä¸ºå¯é€‰ç±»å‹'
      },
      
      // æœªå®šä¹‰ç±»å‹ - ä½¿ç”¨ Option<Any>
      undefined: { 
        type: 'Option<Any>', 
        default: 'None', 
        safety: 'safe',
        description: 'æœªå®šä¹‰ç±»å‹æ˜ å°„ä¸ºå¯é€‰ç±»å‹'
      },
      
      // ç¬¦å·ç±»å‹ - è½¬æ¢ä¸ºå­—ç¬¦ä¸²
      symbol: { 
        type: 'String', 
        default: '""', 
        warning: 'å”¯ä¸€æ€§è¯­ä¹‰ä¸¢å¤±ï¼Œè€ƒè™‘ä½¿ç”¨æšä¸¾æ›¿ä»£',
        safety: 'warning',
        description: 'ç¬¦å·ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²'
      },
      
      // å¯¹è±¡ç±»å‹ - æ˜ å°„ä¸ºå­—å…¸
      object: { 
        type: 'HashMap<String, Any>', 
        default: 'HashMap<String, Any>()', 
        safety: 'safe',
        description: 'å¯¹è±¡ç±»å‹æ˜ å°„ä¸ºå­—å…¸'
      }
    };

    const mapping = mappings[tsType as keyof typeof mappings] || 
                   { 
                     type: 'Any', 
                     default: 'Any', 
                     safety: 'unsafe',
                     description: 'æœªçŸ¥ç±»å‹ï¼Œä½¿ç”¨ Any'
                   };

    return {
      cjType: mapping.type,
      defaultValue: mapping.default,
      warning: mapping.warning,
      safety: mapping.safety
    };
  }

  /**
   * è·å–ç±»å‹å®‰å…¨å»ºè®®
   * @param tsType TypeScript ç‰¹æ®Šç±»å‹
   * @returns å®‰å…¨å»ºè®®
   */
  getSafetyAdvice(tsType: string): string {
    const advice = {
      any: 'å»ºè®®åœ¨ä»“é¢‰è¯­è¨€ä¸­ä½¿ç”¨ Option<Any> è¿›è¡Œç±»å‹å®‰å…¨å¤„ç†',
      unknown: 'å»ºè®®ä½¿ç”¨æ¨¡å¼åŒ¹é…æˆ–ç±»å‹æ£€æŸ¥ç¡®ä¿ç±»å‹å®‰å…¨',
      never: 'è¯¥ç±»å‹åœ¨ä»“é¢‰è¯­è¨€ä¸­æ˜ å°„ä¸º Unitï¼Œè¡¨ç¤ºç©ºå€¼',
      void: 'è¯¥ç±»å‹åœ¨ä»“é¢‰è¯­è¨€ä¸­æ˜ å°„ä¸º Unitï¼Œè¡¨ç¤ºç©ºå€¼',
      null: 'å»ºè®®ä½¿ç”¨ Option<T> ç±»å‹å¤„ç†å¯èƒ½ä¸ºç©ºçš„å€¼',
      undefined: 'å»ºè®®ä½¿ç”¨ Option<T> ç±»å‹å¤„ç†å¯èƒ½æœªå®šä¹‰çš„å€¼',
      symbol: 'å»ºè®®ä½¿ç”¨æšä¸¾æˆ–å¸¸é‡æ›¿ä»£ç¬¦å·ç±»å‹',
      object: 'å»ºè®®ä½¿ç”¨å…·ä½“çš„ç»“æ„ä½“ç±»å‹æ›¿ä»£é€šç”¨å¯¹è±¡ç±»å‹'
    };

    return advice[tsType as keyof typeof advice] || 'å»ºè®®è¿›è¡Œç±»å‹æ£€æŸ¥';
  }

  /**
   * æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹æ®Šç±»å‹
   * @param tsType TypeScript ç±»å‹
   * @returns æ˜¯å¦ä¸ºç‰¹æ®Šç±»å‹
   */
  isSpecialType(tsType: string): boolean {
    const specialTypes = ['any', 'unknown', 'never', 'void', 'null', 'undefined', 'symbol', 'object'];
    return specialTypes.includes(tsType);
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const specialTypeConverter = new SpecialTypeConverter();

// æµ‹è¯•ç”¨ä¾‹
const specialTypeTestCases = [
  'any',
  'unknown', 
  'never',
  'void',
  'null',
  'undefined',
  'symbol',
  'object'
];

specialTypeTestCases.forEach(tsType => {
  const result = specialTypeConverter.convertSpecialType(tsType);
  console.log(`${tsType} -> ${result.cjType} (${result.safety})`);
  if (result.warning) {
    console.log(`  è­¦å‘Š: ${result.warning}`);
  }
  console.log(`  å»ºè®®: ${specialTypeConverter.getSafetyAdvice(tsType)}`);
});
```

</details>

---

## ğŸ“‹ ä¼˜åŒ–æ€»ç»“

### ğŸ¯ ä¸»è¦ä¼˜åŒ–å†…å®¹

**1. ä»“é¢‰è¯­è¨€ç±»å‹ç³»ç»Ÿæ·±å…¥ç†è§£**
- âœ… å……åˆ†åˆ©ç”¨ `ResourceStr`ã€`String`ã€`ResourceColor` çš„è¯­ä¹‰åŒºåˆ†
- âœ… æ”¯æŒ `Option<T>` ç±»å‹ç³»ç»Ÿï¼Œæ­£ç¡®å¤„ç†å¯é€‰å±æ€§
- âœ… åŸºäºä»“é¢‰è¯­è¨€ç»„ä»¶å£°æ˜çš„å®é™…ä½¿ç”¨æ¨¡å¼è¿›è¡Œç²¾ç¡®æ˜ å°„

**2. æ•°å­—ç±»å‹æ™ºèƒ½æ˜ å°„**
- âœ… æ”¯æŒ `Option<Length>` ç±»å‹ï¼Œè¯†åˆ«å¯é€‰å°ºå¯¸å±æ€§ï¼ˆ`width`ã€`height`ï¼‰
- âœ… ç²¾ç¡®åŒºåˆ† `Float64`ã€`Int32`ã€`Int64` çš„ä½¿ç”¨åœºæ™¯
- âœ… åŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨æ¨¡å¼è¿›è¡Œè¯­ä¹‰åˆ†æ

**3. å­—ç¬¦ä¸²ç±»å‹è¯­ä¹‰åŒ–æ˜ å°„**
- âœ… åŒºåˆ† `ResourceStr`ï¼ˆèµ„æºå­—ç¬¦ä¸²ï¼‰å’Œ `String`ï¼ˆæ™®é€šå­—ç¬¦ä¸²ï¼‰
- âœ… æ­£ç¡®è¯†åˆ« `ResourceColor`ï¼ˆæ ·å¼é¢œè‰²ï¼‰çš„ä½¿ç”¨åœºæ™¯
- âœ… åŸºäºå±æ€§è¯­ä¹‰è¿›è¡Œç²¾ç¡®ç±»å‹æ¨æ–­

**4. æ¨¡æ¿å­—ç¬¦ä¸²è§£æ**
- âœ… ç»Ÿä¸€ä½¿ç”¨ `Length` ç±»å‹å¤„ç†é•¿åº¦å•ä½
- âœ… åŸºäºä»“é¢‰è¯­è¨€å•ä½ç³»ç»Ÿè¿›è¡Œè§£æ
- âœ… ç®€åŒ–ç±»å‹åˆ«åï¼Œæé«˜ä»£ç å¯è¯»æ€§

**5. ç‰¹æ®Šç±»å‹å¤„ç†**
- âœ… å……åˆ†åˆ©ç”¨ `Option<T>` ç±»å‹ç³»ç»Ÿæä¾›ç±»å‹å®‰å…¨
- âœ… ä¸ºæ¯ç§ç‰¹æ®Šç±»å‹æä¾›åˆé€‚çš„å®‰å…¨å»ºè®®
- âœ… åŸºäºä»“é¢‰è¯­è¨€ç±»å‹ç³»ç»Ÿè¿›è¡Œå®‰å…¨è½¬æ¢

### ğŸ“Š ä¼˜åŒ–æ•ˆæœå¯¹æ¯”

| ä¼˜åŒ–é¡¹ç›® | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹è¿›æ•ˆæœ |
|----------|--------|--------|----------|
| **å­—ç¬¦ä¸²ç±»å‹åŒºåˆ†** | ç»Ÿä¸€ `ResourceStr` | åŒºåˆ† `ResourceStr`/`String`/`ResourceColor` | âœ… è¯­ä¹‰æ›´ç²¾ç¡® |
| **é•¿åº¦ç±»å‹å¤„ç†** | ç»Ÿä¸€ `Length` | åŒºåˆ† `Length`/`Option<Length>` | âœ… ç±»å‹æ›´å®‰å…¨ |
| **æ•°å­—ç±»å‹æ˜ å°„** | ç»Ÿä¸€ `Int64` | åŒºåˆ† `Float64`/`Int32`/`Int64` | âœ… ç²¾åº¦æ›´åˆé€‚ |
| **ç‰¹æ®Šç±»å‹å¤„ç†** | ç®€å•æ˜ å°„ | åŸºäº `Option<T>` çš„å®‰å…¨æ˜ å°„ | âœ… å®‰å…¨æ€§æå‡ |
| **æ¨¡æ¿å­—ç¬¦ä¸²è§£æ** | åˆ›å»ºæ–°ç±»å‹ | ç»Ÿä¸€ä½¿ç”¨ç°æœ‰ç±»å‹ | âœ… ç®€åŒ–ç±»å‹ç³»ç»Ÿ |

### ğŸ”§ æŠ€æœ¯å®ç°è¦ç‚¹

**1. è¯­ä¹‰æ¨¡å¼åŒ¹é…**
```typescript
// åŸºäºä»“é¢‰è¯­è¨€å®é™…ä½¿ç”¨çš„è¯­ä¹‰æ¨¡å¼
const SEMANTIC_PATTERNS = {
  resourceStr: /(content|text|label|title|placeholder|hint|name|src|source|path|url|icon|image)/i,
  plainString: /(message|error|debug|log|description|comment|reason)/i,
  resourceColor: /(color|background|border|fill|stroke|tint)/i,
  optionalSize: /(width|height)/i,
  // ... æ›´å¤šæ¨¡å¼
};
```

**2. Option ç±»å‹æ”¯æŒ**
```typescript
// æ”¯æŒä»“é¢‰è¯­è¨€çš„ Option ç±»å‹ç³»ç»Ÿ
if (propertyName === 'width' || propertyName === 'height') {
  return 'Option<Length>';
}
```

**3. ç±»å‹å®‰å…¨è½¬æ¢**
```typescript
// åŸºäºä»“é¢‰è¯­è¨€ç±»å‹ç³»ç»Ÿçš„å®‰å…¨è½¬æ¢
const mappings = {
  any: { type: 'Option<Any>', default: 'None', safety: 'safe' },
  unknown: { type: 'Option<Any>', default: 'None', safety: 'warning' },
  // ... æ›´å¤šæ˜ å°„
};
```

### ğŸ¯ å®æ–½å»ºè®®

**1. æ¸è¿›å¼è¿ç§»**
- ä¼˜å…ˆå®ç°æ ¸å¿ƒç±»å‹æ˜ å°„ï¼ˆ`ResourceStr`ã€`Length`ã€`Option<T>`ï¼‰
- é€æ­¥å®Œå–„è¯­ä¹‰æ¨¡å¼åŒ¹é…
- å»ºç«‹ç±»å‹æ˜ å°„éªŒè¯æœºåˆ¶

**2. è´¨é‡ä¿è¯**
- å»ºç«‹åŸºäºä»“é¢‰è¯­è¨€ç»„ä»¶å£°æ˜çš„æµ‹è¯•ç”¨ä¾‹
- å®æ–½ç±»å‹æ˜ å°„å‡†ç¡®ç‡ç›‘æ§
- æä¾›ç±»å‹å®‰å…¨å»ºè®®å’Œè­¦å‘Š

**3. æ–‡æ¡£å®Œå–„**
- æ›´æ–°ç±»å‹æ˜ å°„è§„åˆ™æ–‡æ¡£
- æä¾›æœ€ä½³å®è·µæŒ‡å—
- å»ºç«‹å¸¸è§é—®é¢˜è§£ç­”

---

## ğŸ“‹ å®æ–½æŒ‡å—

### ğŸ¯ å®æ–½æ­¥éª¤

**é˜¶æ®µ 1: ç¯å¢ƒå‡†å¤‡ (1-2 å¤©)**
```bash
# 1. æ£€æŸ¥å½“å‰å·¥å…·ç‰ˆæœ¬
npm list dts2peer

# 2. å¤‡ä»½ç°æœ‰é…ç½®
cp dts2peer.config.js dts2peer.config.js.backup

# 3. å®‰è£…ä¾èµ–
npm install --save-dev @types/node typescript
```

**é˜¶æ®µ 2: æ ¸å¿ƒç±»å‹æ˜ å°„å®ç° (3-5 å¤©)**
```typescript
// 1. åˆ›å»ºç±»å‹æ˜ å°„å™¨
// æ–‡ä»¶: src/types/TypeMapper.ts
export class TypeMapper {
  // å®ç°æ•°å­—ç±»å‹æ™ºèƒ½æ˜ å°„
  // å®ç°å­—ç¬¦ä¸²ç±»å‹è¯­ä¹‰åŒ–æ˜ å°„
  // å®ç°ç‰¹æ®Šç±»å‹å¤„ç†
}

// 2. åˆ›å»ºè¯­ä¹‰åˆ†æå™¨
// æ–‡ä»¶: src/analysis/SemanticAnalyzer.ts
export class SemanticAnalyzer {
  // å®ç°å±æ€§åè¯­ä¹‰åˆ†æ
  // å®ç°ä¸Šä¸‹æ–‡ä¿¡æ¯æå–
}
```

**é˜¶æ®µ 3: æ¨¡æ¿å­—ç¬¦ä¸²è§£æ (2-3 å¤©)**
```typescript
// æ–‡ä»¶: src/parsers/TemplateParser.ts
export class TemplateParser {
  // å®ç°å•ä½ç±»å‹è§£æ
  // å®ç°æ¨¡æ¿å­—ç¬¦ä¸²è½¬æ¢
}
```

**é˜¶æ®µ 4: è´¨é‡ä¿è¯ (2-3 å¤©)**
```typescript
// æ–‡ä»¶: src/validation/TypeValidator.ts
export class TypeValidator {
  // å®ç°ç±»å‹æ˜ å°„éªŒè¯
  // å®ç°è´¨é‡æŒ‡æ ‡ç›‘æ§
}
```

### ğŸ”§ é…ç½®ç¤ºä¾‹

**dts2peer.config.js:**
```javascript
module.exports = {
  // åŸºç¡€é…ç½®
  input: './src/types',
  output: './generated/cangjie',
  
  // ç±»å‹æ˜ å°„é…ç½®
  typeMapping: {
    // å¯ç”¨æ™ºèƒ½ç±»å‹æ¨æ–­
    enableSmartMapping: true,
    
    // å¯ç”¨è¯­ä¹‰åˆ†æ
    enableSemanticAnalysis: true,
    
    // å¯ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è§£æ
    enableTemplateParsing: true,
    
    // å¯ç”¨ç‰¹æ®Šç±»å‹å¤„ç†
    enableSpecialTypeHandling: true,
    
    // è¯­ä¹‰æ¨¡å¼é…ç½®
    semanticPatterns: {
      // èµ„æºå­—ç¬¦ä¸²æ¨¡å¼
      resourceStr: /(content|text|label|title|placeholder|hint|name|src|source|path|url|icon|image)/i,
      
      // æ™®é€šå­—ç¬¦ä¸²æ¨¡å¼
      plainString: /(message|error|debug|log|description|comment|reason)/i,
      
      // èµ„æºé¢œè‰²æ¨¡å¼
      resourceColor: /(color|background|border|fill|stroke|tint)/i,
      
      // å¯é€‰å°ºå¯¸æ¨¡å¼
      optionalSize: /(width|height)/i,
      
      // å°ºå¯¸æ¨¡å¼
      size: /(width|height|size|margin|padding|border|radius|gap|offset|spacing|fontSize|lineHeight|letterSpacing)/i,
      
      // æ¯”ä¾‹æ¨¡å¼
      ratio: /(opacity|scale|progress|ratio|factor|percent)/i,
      
      // è§’åº¦æ¨¡å¼
      angle: /(rotation|angle|rotate|degree)/i,
      
      // è®¡æ•°æ¨¡å¼
      count: /(count|total|num|quantity|maxLines|itemCount|selectedIndex|duration)/i,
      
      // æ—¶é—´æˆ³æ¨¡å¼
      timestamp: /(timestamp|id|zIndex)/i
    }
  },
  
  // è¾“å‡ºé…ç½®
  output: {
    // ç”Ÿæˆç±»å‹åˆ«å
    generateTypeAliases: true,
    
    // ç”Ÿæˆå·¥å…·å‡½æ•°
    generateUtilities: true,
    
    // ç”Ÿæˆæ–‡æ¡£
    generateDocumentation: true
  },
  
  // è´¨é‡ä¿è¯é…ç½®
  quality: {
    // å¯ç”¨ç±»å‹éªŒè¯
    enableTypeValidation: true,
    
    // å¯ç”¨è´¨é‡ç›‘æ§
    enableQualityMonitoring: true,
    
    // è´¨é‡é˜ˆå€¼
    thresholds: {
      typeMappingAccuracy: 0.95,
      semanticCoverage: 0.80,
      specialTypeHandling: 0.98,
      templateStringParsing: 0.90
    }
  }
};
```

### ğŸ“ æœ€ä½³å®è·µ

**1. ç±»å‹æ˜ å°„æœ€ä½³å®è·µ**

```typescript
// âœ… æ¨èï¼šä½¿ç”¨è¯­ä¹‰åŒ–ç±»å‹
interface ButtonProps {
  // ä½¿ç”¨ ResourceStr å¤„ç†éœ€è¦æœ¬åœ°åŒ–çš„æ–‡æœ¬
  text!: ResourceStr = "";
  
  // ä½¿ç”¨ ResourceColor å¤„ç†é¢œè‰²å±æ€§
  backgroundColor!: ResourceColor = Color.Transparent;
  
  // ä½¿ç”¨ Option<Length> å¤„ç†å¯é€‰å°ºå¯¸
  width!: Option<Length> = None;
  
  // ä½¿ç”¨ Float64 å¤„ç†æ¯”ä¾‹å±æ€§
  opacity!: Float64 = 1.0;
}

// âŒ é¿å…ï¼šä½¿ç”¨é€šç”¨ç±»å‹
interface ButtonProps {
  text!: String = "";           // åº”è¯¥ä½¿ç”¨ ResourceStr
  backgroundColor!: String = ""; // åº”è¯¥ä½¿ç”¨ ResourceColor
  width!: Int64 = 0;           // åº”è¯¥ä½¿ç”¨ Option<Length>
  opacity!: Int64 = 1;         // åº”è¯¥ä½¿ç”¨ Float64
}
```

**2. å±æ€§å‘½åæœ€ä½³å®è·µ**

```cangjie
// âœ… æ¨èï¼šä½¿ç”¨è¯­ä¹‰åŒ–çš„å±æ€§å
public class ComponentProps {
  // å°ºå¯¸ç›¸å…³å±æ€§
  public var fontSize: Length = 16.fp
  public var lineHeight: Length = 20.fp
  public var margin: Length = 0.vp
  
  // æ¯”ä¾‹ç›¸å…³å±æ€§
  public var opacity: Float64 = 1.0
  public var scale: Float64 = 1.0
  public var rotation: Float64 = 0.0
  
  // è®¡æ•°ç›¸å…³å±æ€§
  public var maxLines: Int32 = 1
  public var itemCount: Int32 = 0
  public var selectedIndex: Int32 = -1
}

// âŒ é¿å…ï¼šä½¿ç”¨æ¨¡ç³Šçš„å±æ€§å
public class ComponentProps {
  public var size: Int64 = 16      // åº”è¯¥ä½¿ç”¨å…·ä½“çš„å±æ€§å
  public var value: Int64 = 1      // åº”è¯¥ä½¿ç”¨å…·ä½“çš„å±æ€§å
  public var index: Int64 = 0      // åº”è¯¥ä½¿ç”¨å…·ä½“çš„å±æ€§å
}
```

**3. ç‰¹æ®Šç±»å‹å¤„ç†æœ€ä½³å®è·µ**

```cangjie
// âœ… æ¨èï¼šä½¿ç”¨ Option<T> å¤„ç†å¯é€‰å€¼
public class FormProps {
  // ä½¿ç”¨ Option<T> å¤„ç†å¯èƒ½ä¸ºç©ºçš„å€¼
  public var value: Option<String> = None
  public var errorMessage: Option<String> = None
  
  // ä½¿ç”¨ Unit å¤„ç†ç©ºç±»å‹
  public var onSubmit: () -> Unit = { => }
}

// âŒ é¿å…ï¼šç›´æ¥ä½¿ç”¨ Any ç±»å‹
public class FormProps {
  public var value: Any           // åº”è¯¥ä½¿ç”¨ Option<String>
  public var errorMessage: Any    // åº”è¯¥ä½¿ç”¨ Option<String>
  public var onSubmit: Any        // åº”è¯¥ä½¿ç”¨ () -> Unit
}
```

### ğŸš¨ å¸¸è§é—®é¢˜è§£ç­”

**Q1: å¦‚ä½•å¤„ç†å¤æ‚çš„è”åˆç±»å‹ï¼Ÿ**
```typescript
// TypeScript è¾“å…¥
type ButtonType = 'primary' | 'secondary' | 'danger';

// æ¨èè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æšä¸¾
public enum ButtonType {
  Primary | Secondary | Danger
}
```

**Q2: å¦‚ä½•å¤„ç†æ³›å‹ç±»å‹ï¼Ÿ**
```typescript
// TypeScript è¾“å…¥
interface ListProps<T> {
  items: T[];
  renderItem: (item: T) => string;
}

// æ¨èè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æ³›å‹çº¦æŸ
public class ListProps<T> where T: Equatable {
  public var items: Array<T> = Array<T>()
  public var renderItem: (T) -> ResourceStr = { item => "" }
}
```

**Q3: å¦‚ä½•å¤„ç†å‡½æ•°ç±»å‹ï¼Ÿ**
```typescript
// TypeScript è¾“å…¥
type ClickHandler = (event: MouseEvent) => void;

// æ¨èè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ä»“é¢‰è¯­è¨€å‡½æ•°ç±»å‹
public type ClickHandler = (MouseEvent) -> Unit;
```

**Q4: å¦‚ä½•å¤„ç†å¯é€‰å±æ€§ï¼Ÿ**
```typescript
// TypeScript è¾“å…¥
interface Props {
  title?: string;
  count?: number;
}

// æ¨èè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ Option<T>
public class Props {
  public var title: Option<ResourceStr> = None
  public var count: Option<Int32> = None
}
```

### ğŸ“Š è´¨é‡ç›‘æ§

**1. ç±»å‹æ˜ å°„å‡†ç¡®ç‡ç›‘æ§**
```typescript
// ç›‘æ§ä»£ç ç¤ºä¾‹
class TypeMappingMonitor {
  trackMapping(propertyName: string, tsType: string, cjType: string, success: boolean) {
    // è®°å½•æ˜ å°„ç»“æœ
    this.metrics.totalMappings++;
    if (success) this.metrics.successfulMappings++;
    
    // ç»Ÿè®¡è¯­ä¹‰åŒ–ç±»å‹ä½¿ç”¨
    if (this.isSemanticType(cjType)) {
      this.metrics.semanticTypeUsage++;
    }
  }
  
  getAccuracy(): number {
    return this.metrics.totalMappings > 0 
      ? this.metrics.successfulMappings / this.metrics.totalMappings 
      : 0;
  }
}
```

**2. è´¨é‡æŒ‡æ ‡æŠ¥å‘Š**
```typescript
// ç”Ÿæˆè´¨é‡æŠ¥å‘Š
interface QualityReport {
  accuracy: number;           // ç±»å‹æ˜ å°„å‡†ç¡®ç‡
  semanticCoverage: number;   // è¯­ä¹‰åŒ–ç±»å‹è¦†ç›–ç‡
  specialTypeHandling: number; // ç‰¹æ®Šç±»å‹å¤„ç†æˆåŠŸç‡
  templateStringParsing: number; // æ¨¡æ¿å­—ç¬¦ä¸²è§£ææˆåŠŸç‡
  timestamp: string;          // æŠ¥å‘Šç”Ÿæˆæ—¶é—´
}
```

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v2.1  
**æœ€åæ›´æ–°ï¼š** 2024å¹´12æœˆ  
**è´Ÿè´£äººï¼š** dts2peer å¼€å‘å›¢é˜Ÿ  
**ä¼˜åŒ–é‡ç‚¹ï¼š** ä»“é¢‰è¯­è¨€ç±»å‹ç³»ç»Ÿçš„æ·±å…¥ç†è§£å’Œç²¾ç¡®æ˜ å°„  
**æ–‡æ¡£çŠ¶æ€ï¼š** å®Œæ•´ä¼˜åŒ–ï¼ŒåŒ…å«å®æ–½æŒ‡å—å’Œæœ€ä½³å®è·µ